{"ast":null,"code":"var _jsxFileName = \"F:\\\\Web\\\\Voyaige\\\\Voyaige\\\\proj\\\\front\\\\src\\\\components\\\\Booking\\\\UserCustomization\\\\UserCustomization.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport Navbar from '../../NavBar/Navbar';\nimport './UserCustomization.css';\nconst UserCustomization = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    customizationData,\n    bookingData\n  } = location.state || {};\n  const {\n    startingPoint = '',\n    destination = '',\n    startDate = '',\n    endDate = '',\n    guests = 1\n  } = customizationData || {};\n  const [selectedStartingPoint] = useState(startingPoint);\n  const [selectedDestination] = useState(destination);\n  const [selectedStartDate] = useState(startDate);\n  const [selectedEndDate] = useState(endDate);\n  const [selectedGuests] = useState(guests);\n  const [numberOfDays, setNumberOfDays] = useState(0);\n\n  // State to store booked hotel and transport details for each day\n  const [dayDetails, setDayDetails] = useState({});\n  const citiesInPakistan = [\"Islamabad\", \"Lahore\", \"Karachi\", \"Murree\", \"Peshawar\", \"Skardu\", \"Hunza\", \"Quetta\", \"Multan\", \"Faisalabad\", \"Murree\", \"Kashmir\", \"Abbottabad\", \"Gilgit\", \"Naran\", \"Batakundi\"];\n\n  // Calculate number of days for the trip\n  useEffect(() => {\n    if (selectedStartDate && selectedEndDate) {\n      const start = new Date(selectedStartDate);\n      const end = new Date(selectedEndDate);\n      const timeDiff = end - start;\n      const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\n      setNumberOfDays(daysDiff > 0 ? daysDiff : 0);\n    }\n  }, [selectedStartDate, selectedEndDate]);\n\n  // Load day details from localStorage on component mount\n  useEffect(() => {\n    const savedDetails = localStorage.getItem('dayDetails');\n    if (savedDetails) {\n      try {\n        setDayDetails(JSON.parse(savedDetails));\n      } catch (error) {\n        console.error(\"Error parsing day details from localStorage:\", error);\n        localStorage.removeItem('dayDetails');\n      }\n    }\n  }, []);\n\n  // Update localStorage whenever dayDetails state changes\n  useEffect(() => {\n    if (Object.keys(dayDetails).length > 0) {\n      localStorage.setItem('dayDetails', JSON.stringify(dayDetails));\n    }\n  }, [dayDetails]);\n\n  // Receive booking data and update state\n  useEffect(() => {\n    if (bookingData) {\n      console.log(\"Received Booking Data:\", bookingData);\n      const {\n        dayIndex,\n        selectedHotel,\n        selectedTransport\n      } = bookingData;\n      setDayDetails(prevDetails => {\n        const updatedDetails = {\n          ...prevDetails,\n          [dayIndex]: {\n            hotel: selectedHotel,\n            transport: selectedTransport\n          }\n        };\n\n        // Save to localStorage immediately to prevent data loss\n        localStorage.setItem('dayDetails', JSON.stringify(updatedDetails));\n        return updatedDetails;\n      });\n    }\n  }, [bookingData]);\n\n  // Navigate to BookOption page\n  const handleEditClick = day => {\n    navigate('/bookoption', {\n      state: {\n        day,\n        customizationData,\n        currentDetails: dayDetails[day] || {}\n      }\n    });\n  };\n\n  // Helper function to safely access nested properties\n  const getPropertyValue = (obj, property, fallback = 'N/A') => {\n    if (!obj) return fallback;\n    const properties = property.split('.');\n    let value = obj;\n    for (const prop of properties) {\n      if (value && typeof value === 'object' && prop in value) {\n        value = value[prop];\n      } else {\n        return fallback;\n      }\n    }\n    return value || fallback;\n  };\n\n  // Format date to be more readable\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'short',\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"customization-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"customization-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, \"Your Trip Details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"Trip Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 14\n    }\n  }, \"From:\"), \" \", selectedStartingPoint), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 14\n    }\n  }, \"To:\"), \" \", selectedDestination), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 14\n    }\n  }, \"Start Date:\"), \" \", formatDate(selectedStartDate)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 14\n    }\n  }, \"End Date:\"), \" \", formatDate(selectedEndDate)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 14\n    }\n  }, \"Guests:\"), \" \", selectedGuests, \" \", selectedGuests === 1 ? 'Person' : 'Persons'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 14\n    }\n  }, \"Duration:\"), \" \", numberOfDays, \" \", numberOfDays === 1 ? 'Day' : 'Days'))), numberOfDays > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"days-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, \"Day-by-Day Itinerary\"), [...Array(numberOfDays)].map((_, index) => {\n    const dayNumber = index + 1;\n    const details = dayDetails[dayNumber] || {};\n\n    // Calculate day date\n    const dayDate = selectedStartDate ? new Date(selectedStartDate) : new Date();\n    dayDate.setDate(dayDate.getDate() + index);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"day-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }\n    }, \"DAY \", dayNumber), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }\n    }, formatDate(dayDate)), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"edit-button\",\n      onClick: () => handleEditClick(dayNumber),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }), \" Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-line\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }), Object.keys(details).length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"booking-details-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    }, details.hotel && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"booking-details hotel-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }\n    }, \"Hotel\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 28\n      }\n    }, \"Name:\"), \" \", getPropertyValue(details.hotel, 'name')), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 28\n      }\n    }, \"Price:\"), \" \", getPropertyValue(details.hotel, 'price'), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 28\n      }\n    }, \"Rating:\"), \" \", getPropertyValue(details.hotel, 'rating'), \"/5\"), details.hotel.address && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 30\n      }\n    }, \"Address:\"), \" \", details.hotel.address)), details.transport && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"booking-details transport-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, \"Transport\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 28\n      }\n    }, \"Type:\"), \" \", getPropertyValue(details.transport, 'type', 'Vehicle')), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 27\n      }\n    }, \"Name:\"), \" \", getPropertyValue(details.transport, 'name') || getPropertyValue(details.transport, 'car_name') || getPropertyValue(details.transport, 'bus_name') || getPropertyValue(details.transport, 'train_name')), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 28\n      }\n    }, \"Price:\"), \" \", getPropertyValue(details.transport, 'price'), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 28\n      }\n    }, \"Departure:\"), \" \", getPropertyValue(details.transport, 'departure_time')), details.transport.arrival_time && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 30\n      }\n    }, \"Arrival:\"), \" \", details.transport.arrival_time))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"no-booking-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }\n    }, \"No details added yet for Day \", dayNumber), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"add-details-button\",\n      onClick: () => handleEditClick(dayNumber),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"Add Details\")));\n  })), Object.keys(dayDetails).length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-cost-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, \"Total Trip Cost\"), (() => {\n    let totalCost = 0;\n    let hotelCost = 0;\n    let transportCost = 0;\n    Object.values(dayDetails).forEach(day => {\n      if (day.hotel && day.hotel.price) {\n        const price = parseFloat(day.hotel.price);\n        if (!isNaN(price)) {\n          hotelCost += price;\n          totalCost += price;\n        }\n      }\n      if (day.transport && day.transport.price) {\n        const price = parseFloat(day.transport.price);\n        if (!isNaN(price)) {\n          transportCost += price;\n          totalCost += price;\n        }\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-breakdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 20\n      }\n    }, \"Hotel Costs:\"), \" \", hotelCost.toLocaleString(), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 20\n      }\n    }, \"Transport Costs:\"), \" \", transportCost.toLocaleString(), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"total-cost\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 43\n      }\n    }, \"Total Cost:\"), \" \", totalCost.toLocaleString(), \" PKR\"));\n  })()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"action-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"back-button\",\n    onClick: () => navigate(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"save-button\",\n    onClick: () => {\n      // Save final itinerary logic would go here\n      alert('Your itinerary has been saved!');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, \"Save Itinerary\")));\n};\nexport default UserCustomization;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","Navbar","UserCustomization","location","navigate","customizationData","bookingData","state","startingPoint","destination","startDate","endDate","guests","selectedStartingPoint","selectedDestination","selectedStartDate","selectedEndDate","selectedGuests","numberOfDays","setNumberOfDays","dayDetails","setDayDetails","citiesInPakistan","start","Date","end","timeDiff","daysDiff","Math","ceil","savedDetails","localStorage","getItem","JSON","parse","error","console","removeItem","Object","keys","length","setItem","stringify","log","dayIndex","selectedHotel","selectedTransport","prevDetails","updatedDetails","hotel","transport","handleEditClick","day","currentDetails","getPropertyValue","obj","property","fallback","properties","split","value","prop","formatDate","dateString","date","toLocaleDateString","weekday","month","year","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Array","map","_","index","dayNumber","details","dayDate","setDate","getDate","key","onClick","address","arrival_time","totalCost","hotelCost","transportCost","values","forEach","price","parseFloat","isNaN","toLocaleString","alert"],"sources":["F:/Web/Voyaige/Voyaige/proj/front/src/components/Booking/UserCustomization/UserCustomization.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport Navbar from '../../NavBar/Navbar';\r\nimport './UserCustomization.css';\r\n\r\nconst UserCustomization = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { customizationData, bookingData } = location.state || {};\r\n\r\n  const {\r\n    startingPoint = '',\r\n    destination = '',\r\n    startDate = '',\r\n    endDate = '',\r\n    guests = 1\r\n  } = customizationData || {};\r\n\r\n  const [selectedStartingPoint] = useState(startingPoint);\r\n  const [selectedDestination] = useState(destination);\r\n  const [selectedStartDate] = useState(startDate);\r\n  const [selectedEndDate] = useState(endDate);\r\n  const [selectedGuests] = useState(guests);\r\n  const [numberOfDays, setNumberOfDays] = useState(0);\r\n\r\n  // State to store booked hotel and transport details for each day\r\n  const [dayDetails, setDayDetails] = useState({});\r\n\r\n  const citiesInPakistan = [\r\n    \"Islamabad\", \"Lahore\", \"Karachi\", \"Murree\", \"Peshawar\",\r\n    \"Skardu\", \"Hunza\", \"Quetta\", \"Multan\", \"Faisalabad\", \r\n    \"Murree\", \"Kashmir\", \"Abbottabad\", \"Gilgit\", \"Naran\",\r\n    \"Batakundi\"\r\n  ];\r\n\r\n  // Calculate number of days for the trip\r\n  useEffect(() => {\r\n    if (selectedStartDate && selectedEndDate) {\r\n      const start = new Date(selectedStartDate);\r\n      const end = new Date(selectedEndDate);\r\n      const timeDiff = end - start;\r\n      const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\r\n      setNumberOfDays(daysDiff > 0 ? daysDiff : 0);\r\n    }\r\n  }, [selectedStartDate, selectedEndDate]);\r\n\r\n  // Load day details from localStorage on component mount\r\n  useEffect(() => {\r\n    const savedDetails = localStorage.getItem('dayDetails');\r\n    if (savedDetails) {\r\n      try {\r\n        setDayDetails(JSON.parse(savedDetails));\r\n      } catch (error) {\r\n        console.error(\"Error parsing day details from localStorage:\", error);\r\n        localStorage.removeItem('dayDetails');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Update localStorage whenever dayDetails state changes\r\n  useEffect(() => {\r\n    if (Object.keys(dayDetails).length > 0) {\r\n      localStorage.setItem('dayDetails', JSON.stringify(dayDetails));\r\n    }\r\n  }, [dayDetails]);\r\n\r\n  // Receive booking data and update state\r\n  useEffect(() => {\r\n    if (bookingData) {\r\n      console.log(\"Received Booking Data:\", bookingData);\r\n      const { dayIndex, selectedHotel, selectedTransport } = bookingData;\r\n      \r\n      setDayDetails(prevDetails => {\r\n        const updatedDetails = {\r\n          ...prevDetails,\r\n          [dayIndex]: {\r\n            hotel: selectedHotel,\r\n            transport: selectedTransport\r\n          }\r\n        };\r\n        \r\n        // Save to localStorage immediately to prevent data loss\r\n        localStorage.setItem('dayDetails', JSON.stringify(updatedDetails));\r\n        return updatedDetails;\r\n      });\r\n    }\r\n  }, [bookingData]);\r\n\r\n  // Navigate to BookOption page\r\n  const handleEditClick = (day) => {\r\n    navigate('/bookoption', { \r\n      state: { \r\n        day, \r\n        customizationData,\r\n        currentDetails: dayDetails[day] || {} \r\n      } \r\n    });\r\n  };\r\n\r\n  // Helper function to safely access nested properties\r\n  const getPropertyValue = (obj, property, fallback = 'N/A') => {\r\n    if (!obj) return fallback;\r\n    \r\n    const properties = property.split('.');\r\n    let value = obj;\r\n    \r\n    for (const prop of properties) {\r\n      if (value && typeof value === 'object' && prop in value) {\r\n        value = value[prop];\r\n      } else {\r\n        return fallback;\r\n      }\r\n    }\r\n    \r\n    return value || fallback;\r\n  };\r\n\r\n  // Format date to be more readable\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { \r\n      weekday: 'short', \r\n      month: 'short', \r\n      day: 'numeric', \r\n      year: 'numeric' \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"customization-container\">\r\n      <Navbar />\r\n      <h2 className=\"customization-title\">Your Trip Details</h2>\r\n      \r\n      <div className=\"trip-summary\">\r\n        <h3>Trip Summary</h3>\r\n        <div className=\"summary-details\">\r\n          <p><strong>From:</strong> {selectedStartingPoint}</p>\r\n          <p><strong>To:</strong> {selectedDestination}</p>\r\n          <p><strong>Start Date:</strong> {formatDate(selectedStartDate)}</p>\r\n          <p><strong>End Date:</strong> {formatDate(selectedEndDate)}</p>\r\n          <p><strong>Guests:</strong> {selectedGuests} {selectedGuests === 1 ? 'Person' : 'Persons'}</p>\r\n          <p><strong>Duration:</strong> {numberOfDays} {numberOfDays === 1 ? 'Day' : 'Days'}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Display Day Cards */}\r\n      {numberOfDays > 0 && (\r\n        <div className=\"days-section\">\r\n          <h3>Day-by-Day Itinerary</h3>\r\n          {[...Array(numberOfDays)].map((_, index) => {\r\n            const dayNumber = index + 1;\r\n            const details = dayDetails[dayNumber] || {};\r\n            \r\n            // Calculate day date\r\n            const dayDate = selectedStartDate ? new Date(selectedStartDate) : new Date();\r\n            dayDate.setDate(dayDate.getDate() + index);\r\n            \r\n            return (\r\n              <div key={index} className=\"day-card\">\r\n                <div className=\"day-header\">\r\n                  <div className=\"day-number\">DAY {dayNumber}</div>\r\n                  <div className=\"day-date\">{formatDate(dayDate)}</div>\r\n                  <button \r\n                    className=\"edit-button\"\r\n                    onClick={() => handleEditClick(dayNumber)}\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i> Edit\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"day-line\"></div>\r\n                \r\n                {Object.keys(details).length > 0 ? (\r\n                  <div className=\"booking-details-container\">\r\n                    {details.hotel && (\r\n                      <div className=\"booking-details hotel-details\">\r\n                        <h4>Hotel</h4>\r\n                        <p><strong>Name:</strong> {getPropertyValue(details.hotel, 'name')}</p>\r\n                        <p><strong>Price:</strong> {getPropertyValue(details.hotel, 'price')} PKR</p>\r\n                        <p><strong>Rating:</strong> {getPropertyValue(details.hotel, 'rating')}/5</p>\r\n                        {details.hotel.address && (\r\n                          <p><strong>Address:</strong> {details.hotel.address}</p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {details.transport && (\r\n                      <div className=\"booking-details transport-details\">\r\n                        <h4>Transport</h4>\r\n                        <p><strong>Type:</strong> {getPropertyValue(details.transport, 'type', 'Vehicle')}</p>\r\n                        <p>\r\n                          <strong>Name:</strong> {\r\n                            getPropertyValue(details.transport, 'name') || \r\n                            getPropertyValue(details.transport, 'car_name') || \r\n                            getPropertyValue(details.transport, 'bus_name') || \r\n                            getPropertyValue(details.transport, 'train_name')\r\n                          }\r\n                        </p>\r\n                        <p><strong>Price:</strong> {getPropertyValue(details.transport, 'price')} PKR</p>\r\n                        <p><strong>Departure:</strong> {getPropertyValue(details.transport, 'departure_time')}</p>\r\n                        {details.transport.arrival_time && (\r\n                          <p><strong>Arrival:</strong> {details.transport.arrival_time}</p>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"no-booking-details\">\r\n                    <p>No details added yet for Day {dayNumber}</p>\r\n                    <button \r\n                      className=\"add-details-button\"\r\n                      onClick={() => handleEditClick(dayNumber)}\r\n                    >\r\n                      Add Details\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Calculate and display total trip cost */}\r\n      {Object.keys(dayDetails).length > 0 && (\r\n        <div className=\"trip-cost-summary\">\r\n          <h3>Total Trip Cost</h3>\r\n          {(() => {\r\n            let totalCost = 0;\r\n            let hotelCost = 0;\r\n            let transportCost = 0;\r\n            \r\n            Object.values(dayDetails).forEach(day => {\r\n              if (day.hotel && day.hotel.price) {\r\n                const price = parseFloat(day.hotel.price);\r\n                if (!isNaN(price)) {\r\n                  hotelCost += price;\r\n                  totalCost += price;\r\n                }\r\n              }\r\n              \r\n              if (day.transport && day.transport.price) {\r\n                const price = parseFloat(day.transport.price);\r\n                if (!isNaN(price)) {\r\n                  transportCost += price;\r\n                  totalCost += price;\r\n                }\r\n              }\r\n            });\r\n            \r\n            return (\r\n              <div className=\"cost-breakdown\">\r\n                <p><strong>Hotel Costs:</strong> {hotelCost.toLocaleString()} PKR</p>\r\n                <p><strong>Transport Costs:</strong> {transportCost.toLocaleString()} PKR</p>\r\n                <p className=\"total-cost\"><strong>Total Cost:</strong> {totalCost.toLocaleString()} PKR</p>\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"action-buttons\">\r\n        <button \r\n          className=\"back-button\"\r\n          onClick={() => navigate(-1)}\r\n        >\r\n          Back\r\n        </button>\r\n        <button \r\n          className=\"save-button\"\r\n          onClick={() => {\r\n            // Save final itinerary logic would go here\r\n            alert('Your itinerary has been saved!');\r\n          }}\r\n        >\r\n          Save Itinerary\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCustomization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}