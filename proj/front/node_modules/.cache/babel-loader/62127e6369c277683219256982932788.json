{"ast":null,"code":"var _jsxFileName = \"F:\\\\Web\\\\Voyaige\\\\Voyaige\\\\proj\\\\front\\\\src\\\\components\\\\Booking\\\\UserCustomization\\\\UserCustomization.js\";\n// import React, { useState, useEffect } from 'react';\n// import { useLocation, useNavigate } from 'react-router-dom';\n// import Navbar from '../../NavBar/Navbar';\n// import './UserCustomization.css';\n\n// const UserCustomization = () => {\n//   const location = useLocation();\n//   const navigate = useNavigate();\n//   const { customizationData, bookingData } = location.state || {};\n\n//   const {\n//     startingPoint = '',\n//     destination = '',\n//     startDate = '',\n//     endDate = '',\n//     guests = 1\n//   } = customizationData || {};\n\n//   const [selectedStartingPoint] = useState(startingPoint);\n//   const [selectedDestination] = useState(destination);\n//   const [selectedStartDate] = useState(startDate);\n//   const [selectedEndDate] = useState(endDate);\n//   const [selectedGuests] = useState(guests);\n//   const [numberOfDays, setNumberOfDays] = useState(0);\n\n//   // Single trip-level hotel and transport\n//   const [tripDetails, setTripDetails] = useState({\n//     hotel: null,\n//     transport: null\n//   });\n\n//   // State to store food and attractions details for each day\n//   const [dayDetails, setDayDetails] = useState({});\n\n//   // Define food and attraction options for different cities\n//   const cityOptions = {\n//     \"Islamabad\": {\n//       lunch: [\"Monal Restaurant\", \"Tandoori Restaurant\", \"Chaaye Khana\"],\n//       dinner: [\"Savour Foods\", \"Kabul Restaurant\", \"Dynasty Restaurant\"],\n//       attractions: [\"Faisal Mosque\", \"Daman-e-Koh\", \"Pakistan Monument\"]\n//     },\n//     \"Lahore\": {\n//       lunch: [\"Haveli Restaurant\", \"Andaaz Restaurant\", \"Spice Bazaar\"],\n//       dinner: [\"Cooco's Den\", \"Village Restaurant\", \"Fujiyama Restaurant\"],\n//       attractions: [\"Badshahi Mosque\", \"Lahore Fort\", \"Shalimar Gardens\"]\n//     },\n//     // Other cities (kept for reference but condensed in this example)\n//     \"Karachi\": {\n//       lunch: [\"BBQ Tonight\", \"Kolachi Restaurant\", \"Kababjees\"],\n//       dinner: [\"Port Grand\", \"Okra Restaurant\", \"Cafe Flo\"],\n//       attractions: [\"Clifton Beach\", \"Mazar-e-Quaid\", \"Mohatta Palace\"]\n//     },\n//     // Default options for any city not in the list\n//     \"Default\": {\n//       lunch: [\"Local Restaurant 1\", \"Local Restaurant 2\", \"Local Restaurant 3\"],\n//       dinner: [\"Evening Dining 1\", \"Evening Dining 2\", \"Evening Dining 3\"],\n//       attractions: [\"Local Attraction 1\", \"Local Attraction 2\", \"Local Attraction 3\"]\n//     }\n//   };\n\n//   // Calculate number of days for the trip\n//   useEffect(() => {\n//     if (selectedStartDate && selectedEndDate) {\n//       const start = new Date(selectedStartDate);\n//       const end = new Date(selectedEndDate);\n//       const timeDiff = end - start;\n//       const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\n//       setNumberOfDays(daysDiff > 0 ? daysDiff : 0);\n//     }\n//   }, [selectedStartDate, selectedEndDate]);\n\n//   // Load trip and day details from localStorage on component mount\n//   useEffect(() => {\n//     const savedTripDetails = localStorage.getItem('tripDetails');\n//     if (savedTripDetails) {\n//       try {\n//         setTripDetails(JSON.parse(savedTripDetails));\n//       } catch (error) {\n//         console.error(\"Error parsing trip details from localStorage:\", error);\n//         localStorage.removeItem('tripDetails');\n//       }\n//     }\n\n//     const savedDayDetails = localStorage.getItem('dayDetails');\n//     if (savedDayDetails) {\n//       try {\n//         setDayDetails(JSON.parse(savedDayDetails));\n//       } catch (error) {\n//         console.error(\"Error parsing day details from localStorage:\", error);\n//         localStorage.removeItem('dayDetails');\n//       }\n//     }\n//   }, []);\n\n//   // Update localStorage whenever tripDetails state changes\n//   useEffect(() => {\n//     if (tripDetails.hotel || tripDetails.transport) {\n//       localStorage.setItem('tripDetails', JSON.stringify(tripDetails));\n//     }\n//   }, [tripDetails]);\n\n//   // Update localStorage whenever dayDetails state changes\n//   useEffect(() => {\n//     if (Object.keys(dayDetails).length > 0) {\n//       localStorage.setItem('dayDetails', JSON.stringify(dayDetails));\n//     }\n//   }, [dayDetails]);\n\n//   // Receive booking data and update state\n//   useEffect(() => {\n//     if (bookingData) {\n//       console.log(\"Received Booking Data:\", bookingData);\n//       const { selectedHotel, selectedTransport } = bookingData;\n\n//       setTripDetails(prevDetails => {\n//         const updatedDetails = {\n//           ...prevDetails,\n//           hotel: selectedHotel || prevDetails.hotel,\n//           transport: selectedTransport || prevDetails.transport\n//         };\n\n//         // Save to localStorage immediately to prevent data loss\n//         localStorage.setItem('tripDetails', JSON.stringify(updatedDetails));\n//         return updatedDetails;\n//       });\n//     }\n//   }, [bookingData]);\n\n//   // Navigate to BookOption page\n//   const handleEditTripDetails = () => {\n//     navigate('/bookoption', { \n//       state: { \n//         customizationData,\n//         currentDetails: tripDetails\n//       } \n//     });\n//   };\n\n//   // Handle change for lunch, dinner, and attractions\n//   const handleDetailChange = (day, type, value) => {\n//     setDayDetails(prevDetails => {\n//       const updatedDetails = {\n//         ...prevDetails,\n//         [day]: {\n//           ...prevDetails[day],\n//           [type]: value\n//         }\n//       };\n\n//       localStorage.setItem('dayDetails', JSON.stringify(updatedDetails));\n//       return updatedDetails;\n//     });\n//   };\n\n//   // Helper function to safely access nested properties\n//   const getPropertyValue = (obj, property, fallback = 'N/A') => {\n//     if (!obj) return fallback;\n\n//     const properties = property.split('.');\n//     let value = obj;\n\n//     for (const prop of properties) {\n//       if (value && typeof value === 'object' && prop in value) {\n//         value = value[prop];\n//       } else {\n//         return fallback;\n//       }\n//     }\n\n//     return value || fallback;\n//   };\n\n//   // Format date to be more readable\n//   const formatDate = (dateString) => {\n//     if (!dateString) return '';\n//     const date = new Date(dateString);\n//     return date.toLocaleDateString('en-US', { \n//       weekday: 'short', \n//       month: 'short', \n//       day: 'numeric', \n//       year: 'numeric' \n//     });\n//   };\n\n//   // Get options for the current destination\n//   const getOptionsForDestination = () => {\n//     return cityOptions[selectedDestination] || cityOptions[\"Default\"];\n//   };\n\n//   // Calculate total cost including food and attractions\n//   const calculateTotalCost = () => {\n//     let totalCost = 0;\n//     let hotelCost = 0;\n//     let transportCost = 0;\n//     let foodCost = 0;\n//     let attractionsCost = 0;\n\n//     // Fixed costs for hotel and transport (per trip)\n//     if (tripDetails.hotel && tripDetails.hotel.price) {\n//       const price = parseFloat(tripDetails.hotel.price);\n//       if (!isNaN(price)) {\n//         hotelCost = price;\n//         totalCost += price;\n//       }\n//     }\n\n//     if (tripDetails.transport && tripDetails.transport.price) {\n//       const price = parseFloat(tripDetails.transport.price);\n//       if (!isNaN(price)) {\n//         transportCost = price;\n//         totalCost += price;\n//       }\n//     }\n\n//     // Assumed costs for food and attractions\n//     const LUNCH_COST = 1000; // PKR\n//     const DINNER_COST = 1500; // PKR\n//     const ATTRACTION_COST = 500; // PKR per person\n\n//     // Calculate daily food and attraction costs\n//     Object.values(dayDetails).forEach(day => {\n//       // Add lunch cost if selected\n//       if (day.lunch) {\n//         const lunchFee = LUNCH_COST;\n//         foodCost += lunchFee;\n//         totalCost += lunchFee;\n//       }\n\n//       // Add dinner cost if selected\n//       if (day.dinner) {\n//         const dinnerFee = DINNER_COST;\n//         foodCost += dinnerFee;\n//         totalCost += dinnerFee;\n//       }\n\n//       // Add attractions cost if selected (per person)\n//       if (day.attraction) {\n//         const attractionFee = ATTRACTION_COST * selectedGuests;\n//         attractionsCost += attractionFee;\n//         totalCost += attractionFee;\n//       }\n//     });\n\n//     return { totalCost, hotelCost, transportCost, foodCost, attractionsCost };\n//   };\n\n//   // Create an array of days\n//   const getDaysArray = () => {\n//     const days = [];\n//     for (let i = 0; i < numberOfDays; i++) {\n//       const dayNumber = i + 1;\n//       const dayDate = new Date(selectedStartDate);\n//       dayDate.setDate(dayDate.getDate() + i);\n//       days.push({ dayNumber, dayDate });\n//     }\n//     return days;\n//   };\n\n//   // Build itinerary day details for checkout\n//   const buildItineraryDays = () => {\n//     return getDaysArray().map(({ dayNumber }) => {\n//       const details = dayDetails[dayNumber] || {};\n//       const dayTitle = `Day ${dayNumber}: ${getPropertyValue(tripDetails.transport, 'type', 'Trip')} + Hotel`;\n\n//       // Calculate day cost\n//       let dayCost = 0;\n\n//       // Add hotel cost (divided by number of days)\n//       if (tripDetails.hotel && tripDetails.hotel.price) {\n//         const hotelPrice = parseFloat(tripDetails.hotel.price);\n//         if (!isNaN(hotelPrice)) {\n//           dayCost += hotelPrice / numberOfDays;\n//         }\n//       }\n\n//       // Add transport cost (divided by number of days)\n//       if (tripDetails.transport && tripDetails.transport.price) {\n//         const transportPrice = parseFloat(tripDetails.transport.price);\n//         if (!isNaN(transportPrice)) {\n//           dayCost += transportPrice / numberOfDays;\n//         }\n//       }\n\n//       // Add food and attraction costs\n//       if (details.lunch) dayCost += 1000; // LUNCH_COST\n//       if (details.dinner) dayCost += 1500; // DINNER_COST\n//       if (details.attraction) dayCost += 500 * selectedGuests; // ATTRACTION_COST * guests\n\n//       return {\n//         dayNumber,\n//         title: dayTitle,\n//         transportMode: getPropertyValue(tripDetails.transport, 'type', 'Transport'),\n//         hotel: getPropertyValue(tripDetails.hotel, 'name', 'Hotel'),\n//         lunch: details.lunch || null,\n//         dinner: details.dinner || null,\n//         attraction: details.attraction || null,\n//         totalCost: Math.round(dayCost) // Round to nearest integer\n//       };\n//     });\n//   };\n\n//   // Handle proceed to checkout\n//   const handleProceedToCheckout = () => {\n//     const { totalCost } = calculateTotalCost();\n\n//     // Create trip data object for checkout\n//     const tripData = {\n//       summary: {\n//         from: selectedStartingPoint,\n//         to: selectedDestination,\n//         startDate: selectedStartDate,\n//         endDate: selectedEndDate,\n//         guests: selectedGuests,\n//         duration: numberOfDays\n//       },\n//       days: buildItineraryDays(),\n//       discountPercentage: 0, // Default no discount, can be calculated based on user points\n//       totalCost\n//     };\n\n//     // Save trip data to localStorage for checkout page\n//     localStorage.setItem('tripCheckoutData', JSON.stringify(tripData));\n\n//     // Navigate to checkout page\n//     navigate('/checkout');\n//   };\n\n//   return (\n//     <div className=\"customization-container\">\n//       <Navbar />\n//       <div className=\"content-wrapper\">\n//         <h2 className=\"customization-title\">Your Trip Details</h2>\n\n//         <div className=\"trip-summary\">\n//           <h3>Trip Summary</h3>\n//           <div className=\"summary-details\">\n//             <div className=\"summary-col\">\n//               <p><span>From:</span> {selectedStartingPoint}</p>\n//               <p><span>To:</span> {selectedDestination}</p>\n//                 <p>\n//                 <span>Budget : </span> \n//                 {selectedGuests === 1 ? \" Economic\" : selectedGuests === 2 ? \" Normal\" : selectedGuests === 3 ? \" Luxury\" : \" N/A\"}\n//                 </p>\n\n//             </div>\n//             <div className=\"summary-col\">\n//               <p><span>Start:</span> {formatDate(selectedStartDate)}</p>\n//               <p><span>End:</span> {formatDate(selectedEndDate)}</p>\n//               <p><span>Duration:</span> {numberOfDays} {numberOfDays === 1 ? 'Day' : 'Days'}</p>\n//             </div>\n//           </div>\n//         </div>\n\n//         {/* Trip-level Accommodation & Transport */}\n//         <div className=\"trip-accommodations\">\n//           <div className=\"section-header\">\n//             <h3>Accommodation & Transport</h3>\n//             <button className=\"edit-button\" onClick={handleEditTripDetails}>\n//               <i className=\"fas fa-edit\"></i> Edit\n//             </button>\n//           </div>\n\n//           <div className=\"trip-details-container\">\n//             <div className=\"trip-detail-card\">\n//               <div className=\"detail-icon\">\n//                 <i className=\"fas fa-hotel\"></i>\n//               </div>\n//               <div className=\"detail-content\">\n//                 <h4>Hotel</h4>\n//                 {tripDetails.hotel ? (\n//                   <div className=\"detail-info\">\n//                     <p className=\"detail-name\">{getPropertyValue(tripDetails.hotel, 'name')}</p>\n//                     <p className=\"detail-price\">{getPropertyValue(tripDetails.hotel, 'price')} PKR</p>\n//                     <p className=\"detail-rating\">Rating: {getPropertyValue(tripDetails.hotel, 'rating')}/5</p>\n//                     {tripDetails.hotel.address && (\n//                       <p className=\"detail-address\">{tripDetails.hotel.address}</p>\n//                     )}\n//                   </div>\n//                 ) : (\n//                   <div className=\"no-detail-info\">\n//                     <p>No hotel selected</p>\n//                     <button className=\"small-add-button\" onClick={handleEditTripDetails}>\n//                       Add Hotel\n//                     </button>\n//                   </div>\n//                 )}\n//               </div>\n//             </div>\n\n//             <div className=\"trip-detail-card\">\n//               <div className=\"detail-icon\">\n//                 <i className=\"fas fa-bus\"></i>\n//               </div>\n//               <div className=\"detail-content\">\n//                 <h4>Transport</h4>\n//                 {tripDetails.transport ? (\n//                   <div className=\"detail-info\">\n//                     <p className=\"detail-type\">{getPropertyValue(tripDetails.transport, 'type', 'Vehicle')}</p>\n//                     <p className=\"detail-name\">{\n//                       getPropertyValue(tripDetails.transport, 'name') || \n//                       getPropertyValue(tripDetails.transport, 'car_name') || \n//                       getPropertyValue(tripDetails.transport, 'bus_name') || \n//                       getPropertyValue(tripDetails.transport, 'train_name')\n//                     }</p>\n//                     <p className=\"detail-price\">{getPropertyValue(tripDetails.transport, 'price')} PKR</p>\n//                     <p className=\"detail-time\">\n//                       {getPropertyValue(tripDetails.transport, 'departure_time')}\n//                       {tripDetails.transport.arrival_time && ` - ${tripDetails.transport.arrival_time}`}\n//                     </p>\n//                   </div>\n//                 ) : (\n//                   <div className=\"no-detail-info\">\n//                     <p>No transport selected</p>\n//                     <button className=\"small-add-button\" onClick={handleEditTripDetails}>\n//                       Add Transport\n//                     </button>\n//                   </div>\n//                 )}\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n\n//         {/* Day-by-Day Itinerary */}\n//         {numberOfDays > 0 && (\n//           <div className=\"days-section\">\n//             <h3>Day-by-Day Itinerary</h3>\n//             <div className=\"days-grid\">\n//               {getDaysArray().map(({ dayNumber, dayDate }, index) => {\n//                 const details = dayDetails[dayNumber] || {};\n//                 const options = getOptionsForDestination();\n\n//                 return (\n//                   <div key={index} className=\"day-card\">\n//                     <div className=\"day-header\">\n//                       <div className=\"day-number\">DAY {dayNumber}</div>\n//                       <div className=\"day-date\">{formatDate(dayDate)}</div>\n//                     </div>\n\n//                     <div className=\"food-attractions-section\">\n//                       <div className=\"select-container\">\n//                         <label htmlFor={`lunch-day-${dayNumber}`}>Lunch:</label>\n//                         <select\n//                           id={`lunch-day-${dayNumber}`}\n//                           value={details.lunch || ''}\n//                           onChange={(e) => handleDetailChange(dayNumber, 'lunch', e.target.value)}\n//                           className=\"custom-select\"\n//                         >\n//                           <option value=\"\">Select Lunch Place</option>\n//                           {options.lunch.map((place, i) => (\n//                             <option key={i} value={place}>{place}</option>\n//                           ))}\n//                         </select>\n//                       </div>\n\n//                       <div className=\"select-container\">\n//                         <label htmlFor={`dinner-day-${dayNumber}`}>Dinner:</label>\n//                         <select\n//                           id={`dinner-day-${dayNumber}`}\n//                           value={details.dinner || ''}\n//                           onChange={(e) => handleDetailChange(dayNumber, 'dinner', e.target.value)}\n//                           className=\"custom-select\"\n//                         >\n//                           <option value=\"\">Select Dinner Place</option>\n//                           {options.dinner.map((place, i) => (\n//                             <option key={i} value={place}>{place}</option>\n//                           ))}\n//                         </select>\n//                       </div>\n\n//                       <div className=\"select-container\">\n//                         <label htmlFor={`attraction-day-${dayNumber}`}>Attraction:</label>\n//                         <select\n//                           id={`attraction-day-${dayNumber}`}\n//                           value={details.attraction || ''}\n//                           onChange={(e) => handleDetailChange(dayNumber, 'attraction', e.target.value)}\n//                           className=\"custom-select\"\n//                         >\n//                           <option value=\"\">Select Attraction</option>\n//                           {options.attractions.map((place, i) => (\n//                             <option key={i} value={place}>{place}</option>\n//                           ))}\n//                         </select>\n//                       </div>\n\n//                       <div className=\"selected-options\">\n//                         {details.lunch && (\n//                           <div className=\"selected-item\">\n//                             <span className=\"icon lunch-icon\"><i className=\"fas fa-utensils\"></i></span>\n//                             <span className=\"item-name\">{details.lunch}</span>\n//                           </div>\n//                         )}\n\n//                         {details.dinner && (\n//                           <div className=\"selected-item\">\n//                             <span className=\"icon dinner-icon\"><i className=\"fas fa-moon\"></i></span>\n//                             <span className=\"item-name\">{details.dinner}</span>\n//                           </div>\n//                         )}\n\n//                         {details.attraction && (\n//                           <div className=\"selected-item\">\n//                             <span className=\"icon attraction-icon\"><i className=\"fas fa-map-marker-alt\"></i></span>\n//                             <span className=\"item-name\">{details.attraction}</span>\n//                           </div>\n//                         )}\n//                       </div>\n//                     </div>\n//                   </div>\n//                 );\n//               })}\n//             </div>\n//           </div>\n//         )}\n\n//         {/* Calculate and display total trip cost */}\n//         {(tripDetails.hotel || tripDetails.transport || Object.keys(dayDetails).length > 0) && (\n//           <div className=\"trip-cost-summary\">\n//             <h3>Total Trip Cost</h3>\n//             {(() => {\n//               const { totalCost, hotelCost, transportCost, foodCost, attractionsCost } = calculateTotalCost();\n\n//               return (\n//                 <div className=\"cost-breakdown\">\n//                   <div className=\"cost-grid\">\n//                     <div className=\"cost-item\">\n//                       <span className=\"cost-label\">Hotel:</span>\n//                       <span className=\"cost-value\">{hotelCost.toLocaleString()} PKR</span>\n//                     </div>\n//                     <div className=\"cost-item\">\n//                       <span className=\"cost-label\">Transport:</span>\n//                       <span className=\"cost-value\">{transportCost.toLocaleString()} PKR</span>\n//                     </div>\n//                     <div className=\"cost-item\">\n//                       <span className=\"cost-label\">Food:</span>\n//                       <span className=\"cost-value\">{foodCost.toLocaleString()} PKR</span>\n//                     </div>\n//                     <div className=\"cost-item\">\n//                       <span className=\"cost-label\">Attractions:</span>\n//                       <span className=\"cost-value\">{attractionsCost.toLocaleString()} PKR</span>\n//                     </div>\n//                   </div>\n//                   <div className=\"total-cost\">\n//                     <span>Total Cost:</span> {totalCost.toLocaleString()} PKR\n//                   </div>\n//                 </div>\n//               );\n//             })()}\n//           </div>\n//         )}\n\n//         <div className=\"action-buttons\">\n//           <button className=\"back-button\" onClick={() => navigate(-1)}>\n//             Back\n//           </button>\n//           <button \n//             className=\"save-button\"\n//             onClick={handleProceedToCheckout}\n//             disabled={!tripDetails.hotel || !tripDetails.transport || numberOfDays === 0}\n//           >\n//             Pay\n//           </button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n// export default UserCustomization;\n\n// ***********************************************************************************************************************\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Navbar from '../../NavBar/Navbar';\nimport './UserCustomization.css';\nconst UserCustomization = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    customizationData,\n    bookingData\n  } = location.state || {};\n  const [isLoading, setIsLoading] = useState(true);\n  const [tripId, setTripId] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Trip summary details\n  const [tripSummary, setTripSummary] = useState({\n    startingPoint: '',\n    destination: '',\n    startDate: '',\n    endDate: '',\n    guests: 1,\n    numberOfDays: 0\n  });\n\n  // Trip-level details (hotel and transport)\n  const [tripDetails, setTripDetails] = useState({\n    hotel: null,\n    transport: null\n  });\n\n  // Day-by-day details for food and attractions\n  const [dayDetails, setDayDetails] = useState({});\n\n  // City options for various destinations\n  const cityOptions = {\n    \"Islamabad\": {\n      lunch: [\"Monal Restaurant\", \"Tandoori Restaurant\", \"Chaaye Khana\"],\n      dinner: [\"Savour Foods\", \"Kabul Restaurant\", \"Dynasty Restaurant\"],\n      attractions: [\"Faisal Mosque\", \"Daman-e-Koh\", \"Pakistan Monument\"]\n    },\n    \"Lahore\": {\n      lunch: [\"Haveli Restaurant\", \"Andaaz Restaurant\", \"Spice Bazaar\"],\n      dinner: [\"Cooco's Den\", \"Village Restaurant\", \"Fujiyama Restaurant\"],\n      attractions: [\"Badshahi Mosque\", \"Lahore Fort\", \"Shalimar Gardens\"]\n    },\n    \"Karachi\": {\n      lunch: [\"BBQ Tonight\", \"Kolachi Restaurant\", \"Kababjees\"],\n      dinner: [\"Port Grand\", \"Okra Restaurant\", \"Cafe Flo\"],\n      attractions: [\"Clifton Beach\", \"Mazar-e-Quaid\", \"Mohatta Palace\"]\n    },\n    // Default options for any city not in the list\n    \"Default\": {\n      lunch: [\"Local Restaurant 1\", \"Local Restaurant 2\", \"Local Restaurant 3\"],\n      dinner: [\"Evening Dining 1\", \"Evening Dining 2\", \"Evening Dining 3\"],\n      attractions: [\"Local Attraction 1\", \"Local Attraction 2\", \"Local Attraction 3\"]\n    }\n  };\n\n  // Load or create trip data on component mount\n  useEffect(() => {\n    const loadOrCreateTrip = async () => {\n      try {\n        var _location$state;\n        setIsLoading(true);\n\n        // Get user ID from localStorage (assuming you store it after login)\n        const userId = localStorage.getItem('token');\n        if (!userId) {\n          navigate('/login', {\n            state: {\n              redirectTo: location.pathname,\n              redirectState: location.state\n            }\n          });\n          return;\n        }\n\n        // If we have customizationData from location state (direct navigation from home)\n        if (customizationData) {\n          const {\n            startingPoint,\n            destination,\n            startDate,\n            endDate,\n            guests\n          } = customizationData;\n\n          // Calculate the number of days\n          const start = new Date(startDate);\n          const end = new Date(endDate);\n          const timeDiff = end - start;\n          const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\n          const numberOfDays = daysDiff > 0 ? daysDiff : 0;\n\n          // Check if we already have a trip ID in session storage (for page refreshes)\n          const existingTripId = sessionStorage.getItem('currentTripId');\n          if (existingTripId) {\n            // Load existing trip data\n            const response = await axios.get(`http://localhost:5000/api/trips/${existingTripId}`);\n            const tripData = response.data;\n            setTripId(existingTripId);\n            setTripSummary({\n              startingPoint: tripData.startingPoint,\n              destination: tripData.destination,\n              startDate: tripData.startDate,\n              endDate: tripData.endDate,\n              guests: tripData.guests,\n              numberOfDays: tripData.numberOfDays\n            });\n            setTripDetails({\n              hotel: tripData.hotel || null,\n              transport: tripData.transport || null\n            });\n            setDayDetails(tripData.dayDetails || {});\n          } else {\n            // Create a new trip in the database\n            const response = await axios.post('http://localhost:5000/api/trips', {\n              userId,\n              startingPoint,\n              destination,\n              startDate,\n              endDate,\n              guests,\n              numberOfDays,\n              hotel: null,\n              transport: null,\n              dayDetails: {},\n              status: 'draft'\n            });\n            const newTripId = response.data.tripId;\n            setTripId(newTripId);\n            sessionStorage.setItem('currentTripId', newTripId);\n\n            // Set the trip summary in state\n            setTripSummary({\n              startingPoint,\n              destination,\n              startDate,\n              endDate,\n              guests,\n              numberOfDays\n            });\n          }\n        } else if ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.tripId) {\n          // If redirected with a tripId, load that trip\n          const response = await axios.get(`http://localhost:5000/api/trips/${location.state.tripId}`);\n          const tripData = response.data;\n          setTripId(tripData._id);\n          sessionStorage.setItem('currentTripId', tripData._id);\n          setTripSummary({\n            startingPoint: tripData.startingPoint,\n            destination: tripData.destination,\n            startDate: tripData.startDate,\n            endDate: tripData.endDate,\n            guests: tripData.guests,\n            numberOfDays: tripData.numberOfDays\n          });\n          setTripDetails({\n            hotel: tripData.hotel || null,\n            transport: tripData.transport || null\n          });\n          setDayDetails(tripData.dayDetails || {});\n        } else {\n          // Try to retrieve from session storage\n          const existingTripId = sessionStorage.getItem('currentTripId');\n          if (existingTripId) {\n            const response = await axios.get(`http://localhost:5000/api/trips/${existingTripId}`);\n            const tripData = response.data;\n            setTripId(existingTripId);\n            setTripSummary({\n              startingPoint: tripData.startingPoint,\n              destination: tripData.destination,\n              startDate: tripData.startDate,\n              endDate: tripData.endDate,\n              guests: tripData.guests,\n              numberOfDays: tripData.numberOfDays\n            });\n            setTripDetails({\n              hotel: tripData.hotel || null,\n              transport: tripData.transport || null\n            });\n            setDayDetails(tripData.dayDetails || {});\n          } else {\n            // No data available, redirect to home\n            navigate('/');\n            return;\n          }\n        }\n        setIsLoading(false);\n      } catch (error) {\n        console.error(\"Error loading trip data:\", error);\n        setError(\"Failed to load trip data. Please try again.\");\n        setIsLoading(false);\n      }\n    };\n    loadOrCreateTrip();\n  }, [customizationData, location.state, navigate, location.pathname]);\n\n  // Handle booking data updates (when returning from BookOption page)\n  useEffect(() => {\n    const updateBookingDetails = async () => {\n      if (bookingData && tripId) {\n        const {\n          selectedHotel,\n          selectedTransport\n        } = bookingData;\n        try {\n          // Update the trip details in state\n          const updatedDetails = {\n            ...tripDetails,\n            hotel: selectedHotel || tripDetails.hotel,\n            transport: selectedTransport || tripDetails.transport\n          };\n          setTripDetails(updatedDetails);\n\n          // Update in the database\n          await axios.patch(`/api/trips/${tripId}`, {\n            hotel: selectedHotel || tripDetails.hotel,\n            transport: selectedTransport || tripDetails.transport\n          });\n        } catch (error) {\n          console.error(\"Error updating booking details:\", error);\n          setError(\"Failed to update booking details. Please try again.\");\n        }\n      }\n    };\n    updateBookingDetails();\n  }, [bookingData, tripId]);\n\n  // Navigate to BookOption page\n  const handleEditTripDetails = () => {\n    navigate('/bookoption', {\n      state: {\n        customizationData: {\n          startingPoint: tripSummary.startingPoint,\n          destination: tripSummary.destination,\n          startDate: tripSummary.startDate,\n          endDate: tripSummary.endDate,\n          guests: tripSummary.guests\n        },\n        currentDetails: tripDetails,\n        tripId: tripId\n      }\n    });\n  };\n\n  // Handle change for lunch, dinner, and attractions\n  const handleDetailChange = async (day, type, value) => {\n    try {\n      // Update in state\n      const updatedDayDetails = {\n        ...dayDetails,\n        [day]: {\n          ...dayDetails[day],\n          [type]: value\n        }\n      };\n      setDayDetails(updatedDayDetails);\n\n      // Update in the database\n      await axios.patch(`/api/trips/${tripId}`, {\n        dayDetails: updatedDayDetails\n      });\n    } catch (error) {\n      console.error(\"Error updating day details:\", error);\n      setError(\"Failed to update day options. Please try again.\");\n    }\n  };\n\n  // Helper function to safely access nested properties\n  const getPropertyValue = (obj, property, fallback = 'N/A') => {\n    if (!obj) return fallback;\n    const properties = property.split('.');\n    let value = obj;\n    for (const prop of properties) {\n      if (value && typeof value === 'object' && prop in value) {\n        value = value[prop];\n      } else {\n        return fallback;\n      }\n    }\n    return value || fallback;\n  };\n\n  // Format date to be more readable\n  const formatDate = dateString => {\n    if (!dateString) return '';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'short',\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric'\n    });\n  };\n\n  // Get options for the current destination\n  const getOptionsForDestination = () => {\n    return cityOptions[tripSummary.destination] || cityOptions[\"Default\"];\n  };\n\n  // Calculate total cost including food and attractions\n  const calculateTotalCost = () => {\n    let totalCost = 0;\n    let hotelCost = 0;\n    let transportCost = 0;\n    let foodCost = 0;\n    let attractionsCost = 0;\n\n    // Fixed costs for hotel and transport (per trip)\n    if (tripDetails.hotel && tripDetails.hotel.price) {\n      const price = parseFloat(tripDetails.hotel.price);\n      if (!isNaN(price)) {\n        hotelCost = price;\n        totalCost += price;\n      }\n    }\n    if (tripDetails.transport && tripDetails.transport.price) {\n      const price = parseFloat(tripDetails.transport.price);\n      if (!isNaN(price)) {\n        transportCost = price;\n        totalCost += price;\n      }\n    }\n\n    // Assumed costs for food and attractions\n    const LUNCH_COST = 1000; // PKR\n    const DINNER_COST = 1500; // PKR\n    const ATTRACTION_COST = 500; // PKR per person\n\n    // Calculate daily food and attraction costs\n    Object.values(dayDetails).forEach(day => {\n      // Add lunch cost if selected\n      if (day.lunch) {\n        const lunchFee = LUNCH_COST;\n        foodCost += lunchFee;\n        totalCost += lunchFee;\n      }\n\n      // Add dinner cost if selected\n      if (day.dinner) {\n        const dinnerFee = DINNER_COST;\n        foodCost += dinnerFee;\n        totalCost += dinnerFee;\n      }\n\n      // Add attractions cost if selected (per person)\n      if (day.attraction) {\n        const attractionFee = ATTRACTION_COST * tripSummary.guests;\n        attractionsCost += attractionFee;\n        totalCost += attractionFee;\n      }\n    });\n    return {\n      totalCost,\n      hotelCost,\n      transportCost,\n      foodCost,\n      attractionsCost\n    };\n  };\n\n  // Create an array of days\n  const getDaysArray = () => {\n    const days = [];\n    for (let i = 0; i < tripSummary.numberOfDays; i++) {\n      const dayNumber = i + 1;\n      const dayDate = new Date(tripSummary.startDate);\n      dayDate.setDate(dayDate.getDate() + i);\n      days.push({\n        dayNumber,\n        dayDate\n      });\n    }\n    return days;\n  };\n\n  // Build itinerary day details for checkout\n  const buildItineraryDays = () => {\n    return getDaysArray().map(({\n      dayNumber\n    }) => {\n      const details = dayDetails[dayNumber] || {};\n      const dayTitle = `Day ${dayNumber}: ${getPropertyValue(tripDetails.transport, 'type', 'Trip')} + Hotel`;\n\n      // Calculate day cost\n      let dayCost = 0;\n\n      // Add hotel cost (divided by number of days)\n      if (tripDetails.hotel && tripDetails.hotel.price) {\n        const hotelPrice = parseFloat(tripDetails.hotel.price);\n        if (!isNaN(hotelPrice)) {\n          dayCost += hotelPrice / tripSummary.numberOfDays;\n        }\n      }\n\n      // Add transport cost (divided by number of days)\n      if (tripDetails.transport && tripDetails.transport.price) {\n        const transportPrice = parseFloat(tripDetails.transport.price);\n        if (!isNaN(transportPrice)) {\n          dayCost += transportPrice / tripSummary.numberOfDays;\n        }\n      }\n\n      // Add food and attraction costs\n      if (details.lunch) dayCost += 1000; // LUNCH_COST\n      if (details.dinner) dayCost += 1500; // DINNER_COST\n      if (details.attraction) dayCost += 500 * tripSummary.guests; // ATTRACTION_COST * guests\n\n      return {\n        dayNumber,\n        title: dayTitle,\n        transportMode: getPropertyValue(tripDetails.transport, 'type', 'Transport'),\n        hotel: getPropertyValue(tripDetails.hotel, 'name', 'Hotel'),\n        lunch: details.lunch || null,\n        dinner: details.dinner || null,\n        attraction: details.attraction || null,\n        totalCost: Math.round(dayCost) // Round to nearest integer\n      };\n    });\n  };\n\n  // Handle proceed to checkout\n  const handleProceedToCheckout = async () => {\n    try {\n      const {\n        totalCost\n      } = calculateTotalCost();\n\n      // Create trip data object for checkout\n      const tripData = {\n        summary: {\n          from: tripSummary.startingPoint,\n          to: tripSummary.destination,\n          startDate: tripSummary.startDate,\n          endDate: tripSummary.endDate,\n          guests: tripSummary.guests,\n          duration: tripSummary.numberOfDays\n        },\n        days: buildItineraryDays(),\n        discountPercentage: 0,\n        // Default no discount, can be calculated based on user points\n        totalCost\n      };\n\n      // Update trip status to 'checkout' in database\n      await axios.patch(`/api/trips/${tripId}`, {\n        status: 'checkout',\n        checkoutData: tripData\n      });\n\n      // Navigate to checkout page with tripId\n      navigate('/checkout', {\n        state: {\n          tripId: tripId\n        }\n      });\n    } catch (error) {\n      console.error(\"Error proceeding to checkout:\", error);\n      setError(\"Failed to proceed to checkout. Please try again.\");\n    }\n  };\n\n  // Show loading spinner while data is being fetched\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customization-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-wrapper loading-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1036,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 9\n      }\n    }, \"Loading your trip details...\")));\n  }\n\n  // Show error message if there was an error\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"customization-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-wrapper error-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1050,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-exclamation-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 11\n      }\n    }, error), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"retry-button\",\n      onClick: () => window.location.reload(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1053,\n        columnNumber: 11\n      }\n    }, \"Retry\"))));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"customization-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1065,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"customization-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1066,\n      columnNumber: 7\n    }\n  }, \"Your Trip Details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1068,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1069,\n      columnNumber: 9\n    }\n  }, \"Trip Summary\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1071,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1072,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1072,\n      columnNumber: 16\n    }\n  }, \"From:\"), \" \", tripSummary.startingPoint), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1073,\n      columnNumber: 16\n    }\n  }, \"To:\"), \" \", tripSummary.destination), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1075,\n      columnNumber: 15\n    }\n  }, \"Budget:\"), tripSummary.guests === 1 ? \" Economic\" : tripSummary.guests === 2 ? \" Normal\" : tripSummary.guests === 3 ? \" Luxury\" : \" N/A\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1079,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1080,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1080,\n      columnNumber: 16\n    }\n  }, \"Start:\"), \" \", formatDate(tripSummary.startDate)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 16\n    }\n  }, \"End:\"), \" \", formatDate(tripSummary.endDate)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1082,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1082,\n      columnNumber: 16\n    }\n  }, \"Duration:\"), \" \", tripSummary.numberOfDays, \" \", tripSummary.numberOfDays === 1 ? 'Day' : 'Days')))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-accommodations\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1088,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"section-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1089,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 11\n    }\n  }, \"Accommodation & Transport\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"edit-button\",\n    onClick: handleEditTripDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1091,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1092,\n      columnNumber: 13\n    }\n  }), \" Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-details-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1096,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-detail-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1097,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1098,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-hotel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1099,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1102,\n      columnNumber: 15\n    }\n  }, \"Hotel\"), tripDetails.hotel ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1105,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.hotel, 'name')), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1106,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.hotel, 'price'), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1107,\n      columnNumber: 19\n    }\n  }, \"Rating: \", getPropertyValue(tripDetails.hotel, 'rating'), \"/5\"), tripDetails.hotel.address && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1109,\n      columnNumber: 21\n    }\n  }, tripDetails.hotel.address)) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1114,\n      columnNumber: 19\n    }\n  }, \"No hotel selected\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"small-add-button\",\n    onClick: handleEditTripDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1115,\n      columnNumber: 19\n    }\n  }, \"Add Hotel\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-detail-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-bus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1125,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1128,\n      columnNumber: 15\n    }\n  }, \"Transport\"), tripDetails.transport ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1131,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.transport, 'type', 'Vehicle')), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1132,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.transport, 'name') || getPropertyValue(tripDetails.transport, 'car_name') || getPropertyValue(tripDetails.transport, 'bus_name') || getPropertyValue(tripDetails.transport, 'train_name')), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1138,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.transport, 'price'), \" PKR\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detail-time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1139,\n      columnNumber: 19\n    }\n  }, getPropertyValue(tripDetails.transport, 'departure_time'), tripDetails.transport.arrival_time && ` - ${tripDetails.transport.arrival_time}`)) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1146,\n      columnNumber: 19\n    }\n  }, \"No transport selected\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"small-add-button\",\n    onClick: handleEditTripDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1147,\n      columnNumber: 19\n    }\n  }, \"Add Transport\")))))), tripSummary.numberOfDays > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"days-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1159,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1160,\n      columnNumber: 11\n    }\n  }, \"Day-by-Day Itinerary\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"days-grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1161,\n      columnNumber: 11\n    }\n  }, getDaysArray().map(({\n    dayNumber,\n    dayDate\n  }, index) => {\n    const details = dayDetails[dayNumber] || {};\n    const options = getOptionsForDestination();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"day-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1168,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1169,\n        columnNumber: 21\n      }\n    }, \"DAY \", dayNumber), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"day-date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1170,\n        columnNumber: 21\n      }\n    }, formatDate(dayDate))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"food-attractions-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: `lunch-day-${dayNumber}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1175,\n        columnNumber: 23\n      }\n    }, \"Lunch:\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: `lunch-day-${dayNumber}`,\n      value: details.lunch || '',\n      onChange: e => handleDetailChange(dayNumber, 'lunch', e.target.value),\n      className: \"custom-select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1176,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1182,\n        columnNumber: 25\n      }\n    }, \"Select Lunch Place\"), options.lunch.map((place, i) => /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: place,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1184,\n        columnNumber: 27\n      }\n    }, place)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: `dinner-day-${dayNumber}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 23\n      }\n    }, \"Dinner:\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: `dinner-day-${dayNumber}`,\n      value: details.dinner || '',\n      onChange: e => handleDetailChange(dayNumber, 'dinner', e.target.value),\n      className: \"custom-select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1197,\n        columnNumber: 25\n      }\n    }, \"Select Dinner Place\"), options.dinner.map((place, i) => /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: place,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1199,\n        columnNumber: 27\n      }\n    }, place)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1204,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: `attraction-day-${dayNumber}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1205,\n        columnNumber: 23\n      }\n    }, \"Attraction:\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: `attraction-day-${dayNumber}`,\n      value: details.attraction || '',\n      onChange: e => handleDetailChange(dayNumber, 'attraction', e.target.value),\n      className: \"custom-select\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1206,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1212,\n        columnNumber: 25\n      }\n    }, \"Select Attraction\"), options.attractions.map((place, i) => /*#__PURE__*/React.createElement(\"option\", {\n      key: i,\n      value: place,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 27\n      }\n    }, place)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"selected-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1219,\n        columnNumber: 21\n      }\n    }, details.lunch && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"selected-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon lunch-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-utensils\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1222,\n        columnNumber: 61\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"item-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1223,\n        columnNumber: 27\n      }\n    }, details.lunch)), details.dinner && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"selected-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1228,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon dinner-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1229,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-moon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1229,\n        columnNumber: 62\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"item-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1230,\n        columnNumber: 27\n      }\n    }, details.dinner)), details.attraction && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"selected-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1235,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"icon attraction-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-map-marker-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 66\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"item-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1237,\n        columnNumber: 27\n      }\n    }, details.attraction)))));\n  }))), (tripDetails.hotel || tripDetails.transport || Object.keys(dayDetails).length > 0) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"trip-cost-summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1251,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1252,\n      columnNumber: 11\n    }\n  }, \"Total Trip Cost\"), (() => {\n    const {\n      totalCost,\n      hotelCost,\n      transportCost,\n      foodCost,\n      attractionsCost\n    } = calculateTotalCost();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-breakdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1257,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1259,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1260,\n        columnNumber: 21\n      }\n    }, \"Hotel:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1261,\n        columnNumber: 21\n      }\n    }, hotelCost.toLocaleString(), \" PKR\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1263,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1264,\n        columnNumber: 21\n      }\n    }, \"Transport:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1265,\n        columnNumber: 21\n      }\n    }, transportCost.toLocaleString(), \" PKR\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1267,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1268,\n        columnNumber: 21\n      }\n    }, \"Food:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1269,\n        columnNumber: 21\n      }\n    }, foodCost.toLocaleString(), \" PKR\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"cost-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1271,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1272,\n        columnNumber: 21\n      }\n    }, \"Attractions:\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cost-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1273,\n        columnNumber: 21\n      }\n    }, attractionsCost.toLocaleString(), \" PKR\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total-cost\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1276,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1277,\n        columnNumber: 19\n      }\n    }, \"Total Cost:\"), \" \", totalCost.toLocaleString(), \" PKR\"));\n  })()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"action-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1285,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"back-button\",\n    onClick: () => navigate(-1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1286,\n      columnNumber: 9\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"save-button\",\n    onClick: handleProceedToCheckout,\n    disabled: !tripDetails.hotel || !tripDetails.transport || tripSummary.numberOfDays === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 1289,\n      columnNumber: 9\n    }\n  }, \"Pay\"))));\n};\nexport default UserCustomization;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","Navbar","UserCustomization","location","navigate","customizationData","bookingData","state","isLoading","setIsLoading","tripId","setTripId","error","setError","tripSummary","setTripSummary","startingPoint","destination","startDate","endDate","guests","numberOfDays","tripDetails","setTripDetails","hotel","transport","dayDetails","setDayDetails","cityOptions","lunch","dinner","attractions","loadOrCreateTrip","_location$state","userId","localStorage","getItem","redirectTo","pathname","redirectState","start","Date","end","timeDiff","daysDiff","Math","ceil","existingTripId","sessionStorage","response","get","tripData","data","post","status","newTripId","setItem","_id","console","updateBookingDetails","selectedHotel","selectedTransport","updatedDetails","patch","handleEditTripDetails","currentDetails","handleDetailChange","day","type","value","updatedDayDetails","getPropertyValue","obj","property","fallback","properties","split","prop","formatDate","dateString","date","toLocaleDateString","weekday","month","year","getOptionsForDestination","calculateTotalCost","totalCost","hotelCost","transportCost","foodCost","attractionsCost","price","parseFloat","isNaN","LUNCH_COST","DINNER_COST","ATTRACTION_COST","Object","values","forEach","lunchFee","dinnerFee","attraction","attractionFee","getDaysArray","days","i","dayNumber","dayDate","setDate","getDate","push","buildItineraryDays","map","details","dayTitle","dayCost","hotelPrice","transportPrice","title","transportMode","round","handleProceedToCheckout","summary","from","to","duration","discountPercentage","checkoutData","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","reload","address","arrival_time","index","options","key","htmlFor","id","onChange","e","target","place","keys","length","toLocaleString","disabled"],"sources":["F:/Web/Voyaige/Voyaige/proj/front/src/components/Booking/UserCustomization/UserCustomization.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import Navbar from '../../NavBar/Navbar';\r\n// import './UserCustomization.css';\r\n\r\n// const UserCustomization = () => {\r\n//   const location = useLocation();\r\n//   const navigate = useNavigate();\r\n//   const { customizationData, bookingData } = location.state || {};\r\n\r\n//   const {\r\n//     startingPoint = '',\r\n//     destination = '',\r\n//     startDate = '',\r\n//     endDate = '',\r\n//     guests = 1\r\n//   } = customizationData || {};\r\n\r\n//   const [selectedStartingPoint] = useState(startingPoint);\r\n//   const [selectedDestination] = useState(destination);\r\n//   const [selectedStartDate] = useState(startDate);\r\n//   const [selectedEndDate] = useState(endDate);\r\n//   const [selectedGuests] = useState(guests);\r\n//   const [numberOfDays, setNumberOfDays] = useState(0);\r\n  \r\n//   // Single trip-level hotel and transport\r\n//   const [tripDetails, setTripDetails] = useState({\r\n//     hotel: null,\r\n//     transport: null\r\n//   });\r\n\r\n//   // State to store food and attractions details for each day\r\n//   const [dayDetails, setDayDetails] = useState({});\r\n\r\n//   // Define food and attraction options for different cities\r\n//   const cityOptions = {\r\n//     \"Islamabad\": {\r\n//       lunch: [\"Monal Restaurant\", \"Tandoori Restaurant\", \"Chaaye Khana\"],\r\n//       dinner: [\"Savour Foods\", \"Kabul Restaurant\", \"Dynasty Restaurant\"],\r\n//       attractions: [\"Faisal Mosque\", \"Daman-e-Koh\", \"Pakistan Monument\"]\r\n//     },\r\n//     \"Lahore\": {\r\n//       lunch: [\"Haveli Restaurant\", \"Andaaz Restaurant\", \"Spice Bazaar\"],\r\n//       dinner: [\"Cooco's Den\", \"Village Restaurant\", \"Fujiyama Restaurant\"],\r\n//       attractions: [\"Badshahi Mosque\", \"Lahore Fort\", \"Shalimar Gardens\"]\r\n//     },\r\n//     // Other cities (kept for reference but condensed in this example)\r\n//     \"Karachi\": {\r\n//       lunch: [\"BBQ Tonight\", \"Kolachi Restaurant\", \"Kababjees\"],\r\n//       dinner: [\"Port Grand\", \"Okra Restaurant\", \"Cafe Flo\"],\r\n//       attractions: [\"Clifton Beach\", \"Mazar-e-Quaid\", \"Mohatta Palace\"]\r\n//     },\r\n//     // Default options for any city not in the list\r\n//     \"Default\": {\r\n//       lunch: [\"Local Restaurant 1\", \"Local Restaurant 2\", \"Local Restaurant 3\"],\r\n//       dinner: [\"Evening Dining 1\", \"Evening Dining 2\", \"Evening Dining 3\"],\r\n//       attractions: [\"Local Attraction 1\", \"Local Attraction 2\", \"Local Attraction 3\"]\r\n//     }\r\n//   };\r\n\r\n//   // Calculate number of days for the trip\r\n//   useEffect(() => {\r\n//     if (selectedStartDate && selectedEndDate) {\r\n//       const start = new Date(selectedStartDate);\r\n//       const end = new Date(selectedEndDate);\r\n//       const timeDiff = end - start;\r\n//       const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\r\n//       setNumberOfDays(daysDiff > 0 ? daysDiff : 0);\r\n//     }\r\n//   }, [selectedStartDate, selectedEndDate]);\r\n\r\n//   // Load trip and day details from localStorage on component mount\r\n//   useEffect(() => {\r\n//     const savedTripDetails = localStorage.getItem('tripDetails');\r\n//     if (savedTripDetails) {\r\n//       try {\r\n//         setTripDetails(JSON.parse(savedTripDetails));\r\n//       } catch (error) {\r\n//         console.error(\"Error parsing trip details from localStorage:\", error);\r\n//         localStorage.removeItem('tripDetails');\r\n//       }\r\n//     }\r\n\r\n//     const savedDayDetails = localStorage.getItem('dayDetails');\r\n//     if (savedDayDetails) {\r\n//       try {\r\n//         setDayDetails(JSON.parse(savedDayDetails));\r\n//       } catch (error) {\r\n//         console.error(\"Error parsing day details from localStorage:\", error);\r\n//         localStorage.removeItem('dayDetails');\r\n//       }\r\n//     }\r\n//   }, []);\r\n\r\n//   // Update localStorage whenever tripDetails state changes\r\n//   useEffect(() => {\r\n//     if (tripDetails.hotel || tripDetails.transport) {\r\n//       localStorage.setItem('tripDetails', JSON.stringify(tripDetails));\r\n//     }\r\n//   }, [tripDetails]);\r\n\r\n//   // Update localStorage whenever dayDetails state changes\r\n//   useEffect(() => {\r\n//     if (Object.keys(dayDetails).length > 0) {\r\n//       localStorage.setItem('dayDetails', JSON.stringify(dayDetails));\r\n//     }\r\n//   }, [dayDetails]);\r\n\r\n//   // Receive booking data and update state\r\n//   useEffect(() => {\r\n//     if (bookingData) {\r\n//       console.log(\"Received Booking Data:\", bookingData);\r\n//       const { selectedHotel, selectedTransport } = bookingData;\r\n      \r\n//       setTripDetails(prevDetails => {\r\n//         const updatedDetails = {\r\n//           ...prevDetails,\r\n//           hotel: selectedHotel || prevDetails.hotel,\r\n//           transport: selectedTransport || prevDetails.transport\r\n//         };\r\n        \r\n//         // Save to localStorage immediately to prevent data loss\r\n//         localStorage.setItem('tripDetails', JSON.stringify(updatedDetails));\r\n//         return updatedDetails;\r\n//       });\r\n//     }\r\n//   }, [bookingData]);\r\n\r\n//   // Navigate to BookOption page\r\n//   const handleEditTripDetails = () => {\r\n//     navigate('/bookoption', { \r\n//       state: { \r\n//         customizationData,\r\n//         currentDetails: tripDetails\r\n//       } \r\n//     });\r\n//   };\r\n\r\n//   // Handle change for lunch, dinner, and attractions\r\n//   const handleDetailChange = (day, type, value) => {\r\n//     setDayDetails(prevDetails => {\r\n//       const updatedDetails = {\r\n//         ...prevDetails,\r\n//         [day]: {\r\n//           ...prevDetails[day],\r\n//           [type]: value\r\n//         }\r\n//       };\r\n      \r\n//       localStorage.setItem('dayDetails', JSON.stringify(updatedDetails));\r\n//       return updatedDetails;\r\n//     });\r\n//   };\r\n\r\n//   // Helper function to safely access nested properties\r\n//   const getPropertyValue = (obj, property, fallback = 'N/A') => {\r\n//     if (!obj) return fallback;\r\n    \r\n//     const properties = property.split('.');\r\n//     let value = obj;\r\n    \r\n//     for (const prop of properties) {\r\n//       if (value && typeof value === 'object' && prop in value) {\r\n//         value = value[prop];\r\n//       } else {\r\n//         return fallback;\r\n//       }\r\n//     }\r\n    \r\n//     return value || fallback;\r\n//   };\r\n\r\n//   // Format date to be more readable\r\n//   const formatDate = (dateString) => {\r\n//     if (!dateString) return '';\r\n//     const date = new Date(dateString);\r\n//     return date.toLocaleDateString('en-US', { \r\n//       weekday: 'short', \r\n//       month: 'short', \r\n//       day: 'numeric', \r\n//       year: 'numeric' \r\n//     });\r\n//   };\r\n\r\n//   // Get options for the current destination\r\n//   const getOptionsForDestination = () => {\r\n//     return cityOptions[selectedDestination] || cityOptions[\"Default\"];\r\n//   };\r\n\r\n//   // Calculate total cost including food and attractions\r\n//   const calculateTotalCost = () => {\r\n//     let totalCost = 0;\r\n//     let hotelCost = 0;\r\n//     let transportCost = 0;\r\n//     let foodCost = 0;\r\n//     let attractionsCost = 0;\r\n    \r\n//     // Fixed costs for hotel and transport (per trip)\r\n//     if (tripDetails.hotel && tripDetails.hotel.price) {\r\n//       const price = parseFloat(tripDetails.hotel.price);\r\n//       if (!isNaN(price)) {\r\n//         hotelCost = price;\r\n//         totalCost += price;\r\n//       }\r\n//     }\r\n    \r\n//     if (tripDetails.transport && tripDetails.transport.price) {\r\n//       const price = parseFloat(tripDetails.transport.price);\r\n//       if (!isNaN(price)) {\r\n//         transportCost = price;\r\n//         totalCost += price;\r\n//       }\r\n//     }\r\n    \r\n//     // Assumed costs for food and attractions\r\n//     const LUNCH_COST = 1000; // PKR\r\n//     const DINNER_COST = 1500; // PKR\r\n//     const ATTRACTION_COST = 500; // PKR per person\r\n    \r\n//     // Calculate daily food and attraction costs\r\n//     Object.values(dayDetails).forEach(day => {\r\n//       // Add lunch cost if selected\r\n//       if (day.lunch) {\r\n//         const lunchFee = LUNCH_COST;\r\n//         foodCost += lunchFee;\r\n//         totalCost += lunchFee;\r\n//       }\r\n      \r\n//       // Add dinner cost if selected\r\n//       if (day.dinner) {\r\n//         const dinnerFee = DINNER_COST;\r\n//         foodCost += dinnerFee;\r\n//         totalCost += dinnerFee;\r\n//       }\r\n      \r\n//       // Add attractions cost if selected (per person)\r\n//       if (day.attraction) {\r\n//         const attractionFee = ATTRACTION_COST * selectedGuests;\r\n//         attractionsCost += attractionFee;\r\n//         totalCost += attractionFee;\r\n//       }\r\n//     });\r\n    \r\n//     return { totalCost, hotelCost, transportCost, foodCost, attractionsCost };\r\n//   };\r\n\r\n//   // Create an array of days\r\n//   const getDaysArray = () => {\r\n//     const days = [];\r\n//     for (let i = 0; i < numberOfDays; i++) {\r\n//       const dayNumber = i + 1;\r\n//       const dayDate = new Date(selectedStartDate);\r\n//       dayDate.setDate(dayDate.getDate() + i);\r\n//       days.push({ dayNumber, dayDate });\r\n//     }\r\n//     return days;\r\n//   };\r\n\r\n//   // Build itinerary day details for checkout\r\n//   const buildItineraryDays = () => {\r\n//     return getDaysArray().map(({ dayNumber }) => {\r\n//       const details = dayDetails[dayNumber] || {};\r\n//       const dayTitle = `Day ${dayNumber}: ${getPropertyValue(tripDetails.transport, 'type', 'Trip')} + Hotel`;\r\n      \r\n//       // Calculate day cost\r\n//       let dayCost = 0;\r\n      \r\n//       // Add hotel cost (divided by number of days)\r\n//       if (tripDetails.hotel && tripDetails.hotel.price) {\r\n//         const hotelPrice = parseFloat(tripDetails.hotel.price);\r\n//         if (!isNaN(hotelPrice)) {\r\n//           dayCost += hotelPrice / numberOfDays;\r\n//         }\r\n//       }\r\n      \r\n//       // Add transport cost (divided by number of days)\r\n//       if (tripDetails.transport && tripDetails.transport.price) {\r\n//         const transportPrice = parseFloat(tripDetails.transport.price);\r\n//         if (!isNaN(transportPrice)) {\r\n//           dayCost += transportPrice / numberOfDays;\r\n//         }\r\n//       }\r\n      \r\n//       // Add food and attraction costs\r\n//       if (details.lunch) dayCost += 1000; // LUNCH_COST\r\n//       if (details.dinner) dayCost += 1500; // DINNER_COST\r\n//       if (details.attraction) dayCost += 500 * selectedGuests; // ATTRACTION_COST * guests\r\n      \r\n//       return {\r\n//         dayNumber,\r\n//         title: dayTitle,\r\n//         transportMode: getPropertyValue(tripDetails.transport, 'type', 'Transport'),\r\n//         hotel: getPropertyValue(tripDetails.hotel, 'name', 'Hotel'),\r\n//         lunch: details.lunch || null,\r\n//         dinner: details.dinner || null,\r\n//         attraction: details.attraction || null,\r\n//         totalCost: Math.round(dayCost) // Round to nearest integer\r\n//       };\r\n//     });\r\n//   };\r\n\r\n//   // Handle proceed to checkout\r\n//   const handleProceedToCheckout = () => {\r\n//     const { totalCost } = calculateTotalCost();\r\n    \r\n//     // Create trip data object for checkout\r\n//     const tripData = {\r\n//       summary: {\r\n//         from: selectedStartingPoint,\r\n//         to: selectedDestination,\r\n//         startDate: selectedStartDate,\r\n//         endDate: selectedEndDate,\r\n//         guests: selectedGuests,\r\n//         duration: numberOfDays\r\n//       },\r\n//       days: buildItineraryDays(),\r\n//       discountPercentage: 0, // Default no discount, can be calculated based on user points\r\n//       totalCost\r\n//     };\r\n    \r\n//     // Save trip data to localStorage for checkout page\r\n//     localStorage.setItem('tripCheckoutData', JSON.stringify(tripData));\r\n    \r\n//     // Navigate to checkout page\r\n//     navigate('/checkout');\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"customization-container\">\r\n//       <Navbar />\r\n//       <div className=\"content-wrapper\">\r\n//         <h2 className=\"customization-title\">Your Trip Details</h2>\r\n        \r\n//         <div className=\"trip-summary\">\r\n//           <h3>Trip Summary</h3>\r\n//           <div className=\"summary-details\">\r\n//             <div className=\"summary-col\">\r\n//               <p><span>From:</span> {selectedStartingPoint}</p>\r\n//               <p><span>To:</span> {selectedDestination}</p>\r\n//                 <p>\r\n//                 <span>Budget : </span> \r\n//                 {selectedGuests === 1 ? \" Economic\" : selectedGuests === 2 ? \" Normal\" : selectedGuests === 3 ? \" Luxury\" : \" N/A\"}\r\n//                 </p>\r\n\r\n//             </div>\r\n//             <div className=\"summary-col\">\r\n//               <p><span>Start:</span> {formatDate(selectedStartDate)}</p>\r\n//               <p><span>End:</span> {formatDate(selectedEndDate)}</p>\r\n//               <p><span>Duration:</span> {numberOfDays} {numberOfDays === 1 ? 'Day' : 'Days'}</p>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n        \r\n//         {/* Trip-level Accommodation & Transport */}\r\n//         <div className=\"trip-accommodations\">\r\n//           <div className=\"section-header\">\r\n//             <h3>Accommodation & Transport</h3>\r\n//             <button className=\"edit-button\" onClick={handleEditTripDetails}>\r\n//               <i className=\"fas fa-edit\"></i> Edit\r\n//             </button>\r\n//           </div>\r\n          \r\n//           <div className=\"trip-details-container\">\r\n//             <div className=\"trip-detail-card\">\r\n//               <div className=\"detail-icon\">\r\n//                 <i className=\"fas fa-hotel\"></i>\r\n//               </div>\r\n//               <div className=\"detail-content\">\r\n//                 <h4>Hotel</h4>\r\n//                 {tripDetails.hotel ? (\r\n//                   <div className=\"detail-info\">\r\n//                     <p className=\"detail-name\">{getPropertyValue(tripDetails.hotel, 'name')}</p>\r\n//                     <p className=\"detail-price\">{getPropertyValue(tripDetails.hotel, 'price')} PKR</p>\r\n//                     <p className=\"detail-rating\">Rating: {getPropertyValue(tripDetails.hotel, 'rating')}/5</p>\r\n//                     {tripDetails.hotel.address && (\r\n//                       <p className=\"detail-address\">{tripDetails.hotel.address}</p>\r\n//                     )}\r\n//                   </div>\r\n//                 ) : (\r\n//                   <div className=\"no-detail-info\">\r\n//                     <p>No hotel selected</p>\r\n//                     <button className=\"small-add-button\" onClick={handleEditTripDetails}>\r\n//                       Add Hotel\r\n//                     </button>\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n            \r\n//             <div className=\"trip-detail-card\">\r\n//               <div className=\"detail-icon\">\r\n//                 <i className=\"fas fa-bus\"></i>\r\n//               </div>\r\n//               <div className=\"detail-content\">\r\n//                 <h4>Transport</h4>\r\n//                 {tripDetails.transport ? (\r\n//                   <div className=\"detail-info\">\r\n//                     <p className=\"detail-type\">{getPropertyValue(tripDetails.transport, 'type', 'Vehicle')}</p>\r\n//                     <p className=\"detail-name\">{\r\n//                       getPropertyValue(tripDetails.transport, 'name') || \r\n//                       getPropertyValue(tripDetails.transport, 'car_name') || \r\n//                       getPropertyValue(tripDetails.transport, 'bus_name') || \r\n//                       getPropertyValue(tripDetails.transport, 'train_name')\r\n//                     }</p>\r\n//                     <p className=\"detail-price\">{getPropertyValue(tripDetails.transport, 'price')} PKR</p>\r\n//                     <p className=\"detail-time\">\r\n//                       {getPropertyValue(tripDetails.transport, 'departure_time')}\r\n//                       {tripDetails.transport.arrival_time && ` - ${tripDetails.transport.arrival_time}`}\r\n//                     </p>\r\n//                   </div>\r\n//                 ) : (\r\n//                   <div className=\"no-detail-info\">\r\n//                     <p>No transport selected</p>\r\n//                     <button className=\"small-add-button\" onClick={handleEditTripDetails}>\r\n//                       Add Transport\r\n//                     </button>\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n        \r\n//         {/* Day-by-Day Itinerary */}\r\n//         {numberOfDays > 0 && (\r\n//           <div className=\"days-section\">\r\n//             <h3>Day-by-Day Itinerary</h3>\r\n//             <div className=\"days-grid\">\r\n//               {getDaysArray().map(({ dayNumber, dayDate }, index) => {\r\n//                 const details = dayDetails[dayNumber] || {};\r\n//                 const options = getOptionsForDestination();\r\n                \r\n//                 return (\r\n//                   <div key={index} className=\"day-card\">\r\n//                     <div className=\"day-header\">\r\n//                       <div className=\"day-number\">DAY {dayNumber}</div>\r\n//                       <div className=\"day-date\">{formatDate(dayDate)}</div>\r\n//                     </div>\r\n                    \r\n//                     <div className=\"food-attractions-section\">\r\n//                       <div className=\"select-container\">\r\n//                         <label htmlFor={`lunch-day-${dayNumber}`}>Lunch:</label>\r\n//                         <select\r\n//                           id={`lunch-day-${dayNumber}`}\r\n//                           value={details.lunch || ''}\r\n//                           onChange={(e) => handleDetailChange(dayNumber, 'lunch', e.target.value)}\r\n//                           className=\"custom-select\"\r\n//                         >\r\n//                           <option value=\"\">Select Lunch Place</option>\r\n//                           {options.lunch.map((place, i) => (\r\n//                             <option key={i} value={place}>{place}</option>\r\n//                           ))}\r\n//                         </select>\r\n//                       </div>\r\n                      \r\n//                       <div className=\"select-container\">\r\n//                         <label htmlFor={`dinner-day-${dayNumber}`}>Dinner:</label>\r\n//                         <select\r\n//                           id={`dinner-day-${dayNumber}`}\r\n//                           value={details.dinner || ''}\r\n//                           onChange={(e) => handleDetailChange(dayNumber, 'dinner', e.target.value)}\r\n//                           className=\"custom-select\"\r\n//                         >\r\n//                           <option value=\"\">Select Dinner Place</option>\r\n//                           {options.dinner.map((place, i) => (\r\n//                             <option key={i} value={place}>{place}</option>\r\n//                           ))}\r\n//                         </select>\r\n//                       </div>\r\n                      \r\n//                       <div className=\"select-container\">\r\n//                         <label htmlFor={`attraction-day-${dayNumber}`}>Attraction:</label>\r\n//                         <select\r\n//                           id={`attraction-day-${dayNumber}`}\r\n//                           value={details.attraction || ''}\r\n//                           onChange={(e) => handleDetailChange(dayNumber, 'attraction', e.target.value)}\r\n//                           className=\"custom-select\"\r\n//                         >\r\n//                           <option value=\"\">Select Attraction</option>\r\n//                           {options.attractions.map((place, i) => (\r\n//                             <option key={i} value={place}>{place}</option>\r\n//                           ))}\r\n//                         </select>\r\n//                       </div>\r\n                      \r\n//                       <div className=\"selected-options\">\r\n//                         {details.lunch && (\r\n//                           <div className=\"selected-item\">\r\n//                             <span className=\"icon lunch-icon\"><i className=\"fas fa-utensils\"></i></span>\r\n//                             <span className=\"item-name\">{details.lunch}</span>\r\n//                           </div>\r\n//                         )}\r\n                        \r\n//                         {details.dinner && (\r\n//                           <div className=\"selected-item\">\r\n//                             <span className=\"icon dinner-icon\"><i className=\"fas fa-moon\"></i></span>\r\n//                             <span className=\"item-name\">{details.dinner}</span>\r\n//                           </div>\r\n//                         )}\r\n                        \r\n//                         {details.attraction && (\r\n//                           <div className=\"selected-item\">\r\n//                             <span className=\"icon attraction-icon\"><i className=\"fas fa-map-marker-alt\"></i></span>\r\n//                             <span className=\"item-name\">{details.attraction}</span>\r\n//                           </div>\r\n//                         )}\r\n//                       </div>\r\n//                     </div>\r\n//                   </div>\r\n//                 );\r\n//               })}\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n        \r\n//         {/* Calculate and display total trip cost */}\r\n//         {(tripDetails.hotel || tripDetails.transport || Object.keys(dayDetails).length > 0) && (\r\n//           <div className=\"trip-cost-summary\">\r\n//             <h3>Total Trip Cost</h3>\r\n//             {(() => {\r\n//               const { totalCost, hotelCost, transportCost, foodCost, attractionsCost } = calculateTotalCost();\r\n              \r\n//               return (\r\n//                 <div className=\"cost-breakdown\">\r\n//                   <div className=\"cost-grid\">\r\n//                     <div className=\"cost-item\">\r\n//                       <span className=\"cost-label\">Hotel:</span>\r\n//                       <span className=\"cost-value\">{hotelCost.toLocaleString()} PKR</span>\r\n//                     </div>\r\n//                     <div className=\"cost-item\">\r\n//                       <span className=\"cost-label\">Transport:</span>\r\n//                       <span className=\"cost-value\">{transportCost.toLocaleString()} PKR</span>\r\n//                     </div>\r\n//                     <div className=\"cost-item\">\r\n//                       <span className=\"cost-label\">Food:</span>\r\n//                       <span className=\"cost-value\">{foodCost.toLocaleString()} PKR</span>\r\n//                     </div>\r\n//                     <div className=\"cost-item\">\r\n//                       <span className=\"cost-label\">Attractions:</span>\r\n//                       <span className=\"cost-value\">{attractionsCost.toLocaleString()} PKR</span>\r\n//                     </div>\r\n//                   </div>\r\n//                   <div className=\"total-cost\">\r\n//                     <span>Total Cost:</span> {totalCost.toLocaleString()} PKR\r\n//                   </div>\r\n//                 </div>\r\n//               );\r\n//             })()}\r\n//           </div>\r\n//         )}\r\n        \r\n//         <div className=\"action-buttons\">\r\n//           <button className=\"back-button\" onClick={() => navigate(-1)}>\r\n//             Back\r\n//           </button>\r\n//           <button \r\n//             className=\"save-button\"\r\n//             onClick={handleProceedToCheckout}\r\n//             disabled={!tripDetails.hotel || !tripDetails.transport || numberOfDays === 0}\r\n//           >\r\n//             Pay\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n// export default UserCustomization;\r\n\r\n\r\n\r\n\r\n// ***********************************************************************************************************************\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Navbar from '../../NavBar/Navbar';\r\nimport './UserCustomization.css';\r\n\r\n\r\nconst UserCustomization = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { customizationData, bookingData } = location.state || {};\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [tripId, setTripId] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Trip summary details\r\n  const [tripSummary, setTripSummary] = useState({\r\n    startingPoint: '',\r\n    destination: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    guests: 1,\r\n    numberOfDays: 0\r\n  });\r\n\r\n  // Trip-level details (hotel and transport)\r\n  const [tripDetails, setTripDetails] = useState({\r\n    hotel: null,\r\n    transport: null\r\n  });\r\n\r\n  // Day-by-day details for food and attractions\r\n  const [dayDetails, setDayDetails] = useState({});\r\n\r\n  // City options for various destinations\r\n  const cityOptions = {\r\n    \"Islamabad\": {\r\n      lunch: [\"Monal Restaurant\", \"Tandoori Restaurant\", \"Chaaye Khana\"],\r\n      dinner: [\"Savour Foods\", \"Kabul Restaurant\", \"Dynasty Restaurant\"],\r\n      attractions: [\"Faisal Mosque\", \"Daman-e-Koh\", \"Pakistan Monument\"]\r\n    },\r\n    \"Lahore\": {\r\n      lunch: [\"Haveli Restaurant\", \"Andaaz Restaurant\", \"Spice Bazaar\"],\r\n      dinner: [\"Cooco's Den\", \"Village Restaurant\", \"Fujiyama Restaurant\"],\r\n      attractions: [\"Badshahi Mosque\", \"Lahore Fort\", \"Shalimar Gardens\"]\r\n    },\r\n    \"Karachi\": {\r\n      lunch: [\"BBQ Tonight\", \"Kolachi Restaurant\", \"Kababjees\"],\r\n      dinner: [\"Port Grand\", \"Okra Restaurant\", \"Cafe Flo\"],\r\n      attractions: [\"Clifton Beach\", \"Mazar-e-Quaid\", \"Mohatta Palace\"]\r\n    },\r\n    // Default options for any city not in the list\r\n    \"Default\": {\r\n      lunch: [\"Local Restaurant 1\", \"Local Restaurant 2\", \"Local Restaurant 3\"],\r\n      dinner: [\"Evening Dining 1\", \"Evening Dining 2\", \"Evening Dining 3\"],\r\n      attractions: [\"Local Attraction 1\", \"Local Attraction 2\", \"Local Attraction 3\"]\r\n    }\r\n  };\r\n\r\n  // Load or create trip data on component mount\r\n  useEffect(() => {\r\n    const loadOrCreateTrip = async () => {\r\n      try {\r\n        setIsLoading(true);\r\n        \r\n        // Get user ID from localStorage (assuming you store it after login)\r\n        const userId = localStorage.getItem('token');\r\n        if (!userId) {\r\n          navigate('/login', { state: { redirectTo: location.pathname, redirectState: location.state } });\r\n          return;\r\n        }\r\n\r\n        // If we have customizationData from location state (direct navigation from home)\r\n        if (customizationData) {\r\n          const { startingPoint, destination, startDate, endDate, guests } = customizationData;\r\n          \r\n          // Calculate the number of days\r\n          const start = new Date(startDate);\r\n          const end = new Date(endDate);\r\n          const timeDiff = end - start;\r\n          const daysDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24)) + 1;\r\n          const numberOfDays = daysDiff > 0 ? daysDiff : 0;\r\n          \r\n          // Check if we already have a trip ID in session storage (for page refreshes)\r\n          const existingTripId = sessionStorage.getItem('currentTripId');\r\n          \r\n          if (existingTripId) {\r\n            // Load existing trip data\r\n            const response = await axios.get(`http://localhost:5000/api/trips/${existingTripId}`);\r\n            const tripData = response.data;\r\n            \r\n            setTripId(existingTripId);\r\n            setTripSummary({\r\n              startingPoint: tripData.startingPoint,\r\n              destination: tripData.destination,\r\n              startDate: tripData.startDate,\r\n              endDate: tripData.endDate,\r\n              guests: tripData.guests,\r\n              numberOfDays: tripData.numberOfDays\r\n            });\r\n            setTripDetails({\r\n              hotel: tripData.hotel || null,\r\n              transport: tripData.transport || null\r\n            });\r\n            setDayDetails(tripData.dayDetails || {});\r\n            \r\n          } else {\r\n            // Create a new trip in the database\r\n            const response = await axios.post('http://localhost:5000/api/trips', {\r\n              userId,\r\n              startingPoint,\r\n              destination,\r\n              startDate,\r\n              endDate,\r\n              guests,\r\n              numberOfDays,\r\n              hotel: null,\r\n              transport: null,\r\n              dayDetails: {},\r\n              status: 'draft'\r\n            });\r\n            \r\n            const newTripId = response.data.tripId;\r\n            setTripId(newTripId);\r\n            sessionStorage.setItem('currentTripId', newTripId);\r\n            \r\n            // Set the trip summary in state\r\n            setTripSummary({\r\n              startingPoint,\r\n              destination,\r\n              startDate,\r\n              endDate,\r\n              guests,\r\n              numberOfDays\r\n            });\r\n          }\r\n        } else if (location.state?.tripId) {\r\n          // If redirected with a tripId, load that trip\r\n          const response = await axios.get(`http://localhost:5000/api/trips/${location.state.tripId}`);\r\n          const tripData = response.data;\r\n          \r\n          setTripId(tripData._id);\r\n          sessionStorage.setItem('currentTripId', tripData._id);\r\n          \r\n          setTripSummary({\r\n            startingPoint: tripData.startingPoint,\r\n            destination: tripData.destination,\r\n            startDate: tripData.startDate,\r\n            endDate: tripData.endDate,\r\n            guests: tripData.guests,\r\n            numberOfDays: tripData.numberOfDays\r\n          });\r\n          setTripDetails({\r\n            hotel: tripData.hotel || null,\r\n            transport: tripData.transport || null\r\n          });\r\n          setDayDetails(tripData.dayDetails || {});\r\n          \r\n        } else {\r\n          // Try to retrieve from session storage\r\n          const existingTripId = sessionStorage.getItem('currentTripId');\r\n          \r\n          if (existingTripId) {\r\n            const response = await axios.get(`http://localhost:5000/api/trips/${existingTripId}`);\r\n            const tripData = response.data;\r\n            \r\n            setTripId(existingTripId);\r\n            setTripSummary({\r\n              startingPoint: tripData.startingPoint,\r\n              destination: tripData.destination,\r\n              startDate: tripData.startDate,\r\n              endDate: tripData.endDate,\r\n              guests: tripData.guests,\r\n              numberOfDays: tripData.numberOfDays\r\n            });\r\n            setTripDetails({\r\n              hotel: tripData.hotel || null,\r\n              transport: tripData.transport || null\r\n            });\r\n            setDayDetails(tripData.dayDetails || {});\r\n          } else {\r\n            // No data available, redirect to home\r\n            navigate('/');\r\n            return;\r\n          }\r\n        }\r\n        \r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Error loading trip data:\", error);\r\n        setError(\"Failed to load trip data. Please try again.\");\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadOrCreateTrip();\r\n  }, [customizationData, location.state, navigate, location.pathname]);\r\n\r\n  // Handle booking data updates (when returning from BookOption page)\r\n  useEffect(() => {\r\n    const updateBookingDetails = async () => {\r\n      if (bookingData && tripId) {\r\n        const { selectedHotel, selectedTransport } = bookingData;\r\n        \r\n        try {\r\n          // Update the trip details in state\r\n          const updatedDetails = {\r\n            ...tripDetails,\r\n            hotel: selectedHotel || tripDetails.hotel,\r\n            transport: selectedTransport || tripDetails.transport\r\n          };\r\n          \r\n          setTripDetails(updatedDetails);\r\n          \r\n          // Update in the database\r\n          await axios.patch(`/api/trips/${tripId}`, {\r\n            hotel: selectedHotel || tripDetails.hotel,\r\n            transport: selectedTransport || tripDetails.transport\r\n          });\r\n        } catch (error) {\r\n          console.error(\"Error updating booking details:\", error);\r\n          setError(\"Failed to update booking details. Please try again.\");\r\n        }\r\n      }\r\n    };\r\n    \r\n    updateBookingDetails();\r\n  }, [bookingData, tripId]);\r\n\r\n  // Navigate to BookOption page\r\n  const handleEditTripDetails = () => {\r\n    navigate('/bookoption', { \r\n      state: { \r\n        customizationData: {\r\n          startingPoint: tripSummary.startingPoint,\r\n          destination: tripSummary.destination,\r\n          startDate: tripSummary.startDate,\r\n          endDate: tripSummary.endDate,\r\n          guests: tripSummary.guests\r\n        },\r\n        currentDetails: tripDetails,\r\n        tripId: tripId\r\n      } \r\n    });\r\n  };\r\n\r\n  // Handle change for lunch, dinner, and attractions\r\n  const handleDetailChange = async (day, type, value) => {\r\n    try {\r\n      // Update in state\r\n      const updatedDayDetails = {\r\n        ...dayDetails,\r\n        [day]: {\r\n          ...dayDetails[day],\r\n          [type]: value\r\n        }\r\n      };\r\n      \r\n      setDayDetails(updatedDayDetails);\r\n      \r\n      // Update in the database\r\n      await axios.patch(`/api/trips/${tripId}`, {\r\n        dayDetails: updatedDayDetails\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error updating day details:\", error);\r\n      setError(\"Failed to update day options. Please try again.\");\r\n    }\r\n  };\r\n\r\n  // Helper function to safely access nested properties\r\n  const getPropertyValue = (obj, property, fallback = 'N/A') => {\r\n    if (!obj) return fallback;\r\n    \r\n    const properties = property.split('.');\r\n    let value = obj;\r\n    \r\n    for (const prop of properties) {\r\n      if (value && typeof value === 'object' && prop in value) {\r\n        value = value[prop];\r\n      } else {\r\n        return fallback;\r\n      }\r\n    }\r\n    \r\n    return value || fallback;\r\n  };\r\n\r\n  // Format date to be more readable\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', { \r\n      weekday: 'short', \r\n      month: 'short', \r\n      day: 'numeric', \r\n      year: 'numeric' \r\n    });\r\n  };\r\n\r\n  // Get options for the current destination\r\n  const getOptionsForDestination = () => {\r\n    return cityOptions[tripSummary.destination] || cityOptions[\"Default\"];\r\n  };\r\n\r\n  // Calculate total cost including food and attractions\r\n  const calculateTotalCost = () => {\r\n    let totalCost = 0;\r\n    let hotelCost = 0;\r\n    let transportCost = 0;\r\n    let foodCost = 0;\r\n    let attractionsCost = 0;\r\n    \r\n    // Fixed costs for hotel and transport (per trip)\r\n    if (tripDetails.hotel && tripDetails.hotel.price) {\r\n      const price = parseFloat(tripDetails.hotel.price);\r\n      if (!isNaN(price)) {\r\n        hotelCost = price;\r\n        totalCost += price;\r\n      }\r\n    }\r\n    \r\n    if (tripDetails.transport && tripDetails.transport.price) {\r\n      const price = parseFloat(tripDetails.transport.price);\r\n      if (!isNaN(price)) {\r\n        transportCost = price;\r\n        totalCost += price;\r\n      }\r\n    }\r\n    \r\n    // Assumed costs for food and attractions\r\n    const LUNCH_COST = 1000; // PKR\r\n    const DINNER_COST = 1500; // PKR\r\n    const ATTRACTION_COST = 500; // PKR per person\r\n    \r\n    // Calculate daily food and attraction costs\r\n    Object.values(dayDetails).forEach(day => {\r\n      // Add lunch cost if selected\r\n      if (day.lunch) {\r\n        const lunchFee = LUNCH_COST;\r\n        foodCost += lunchFee;\r\n        totalCost += lunchFee;\r\n      }\r\n      \r\n      // Add dinner cost if selected\r\n      if (day.dinner) {\r\n        const dinnerFee = DINNER_COST;\r\n        foodCost += dinnerFee;\r\n        totalCost += dinnerFee;\r\n      }\r\n      \r\n      // Add attractions cost if selected (per person)\r\n      if (day.attraction) {\r\n        const attractionFee = ATTRACTION_COST * tripSummary.guests;\r\n        attractionsCost += attractionFee;\r\n        totalCost += attractionFee;\r\n      }\r\n    });\r\n    \r\n    return { totalCost, hotelCost, transportCost, foodCost, attractionsCost };\r\n  };\r\n\r\n  // Create an array of days\r\n  const getDaysArray = () => {\r\n    const days = [];\r\n    for (let i = 0; i < tripSummary.numberOfDays; i++) {\r\n      const dayNumber = i + 1;\r\n      const dayDate = new Date(tripSummary.startDate);\r\n      dayDate.setDate(dayDate.getDate() + i);\r\n      days.push({ dayNumber, dayDate });\r\n    }\r\n    return days;\r\n  };\r\n\r\n  // Build itinerary day details for checkout\r\n  const buildItineraryDays = () => {\r\n    return getDaysArray().map(({ dayNumber }) => {\r\n      const details = dayDetails[dayNumber] || {};\r\n      const dayTitle = `Day ${dayNumber}: ${getPropertyValue(tripDetails.transport, 'type', 'Trip')} + Hotel`;\r\n      \r\n      // Calculate day cost\r\n      let dayCost = 0;\r\n      \r\n      // Add hotel cost (divided by number of days)\r\n      if (tripDetails.hotel && tripDetails.hotel.price) {\r\n        const hotelPrice = parseFloat(tripDetails.hotel.price);\r\n        if (!isNaN(hotelPrice)) {\r\n          dayCost += hotelPrice / tripSummary.numberOfDays;\r\n        }\r\n      }\r\n      \r\n      // Add transport cost (divided by number of days)\r\n      if (tripDetails.transport && tripDetails.transport.price) {\r\n        const transportPrice = parseFloat(tripDetails.transport.price);\r\n        if (!isNaN(transportPrice)) {\r\n          dayCost += transportPrice / tripSummary.numberOfDays;\r\n        }\r\n      }\r\n      \r\n      // Add food and attraction costs\r\n      if (details.lunch) dayCost += 1000; // LUNCH_COST\r\n      if (details.dinner) dayCost += 1500; // DINNER_COST\r\n      if (details.attraction) dayCost += 500 * tripSummary.guests; // ATTRACTION_COST * guests\r\n      \r\n      return {\r\n        dayNumber,\r\n        title: dayTitle,\r\n        transportMode: getPropertyValue(tripDetails.transport, 'type', 'Transport'),\r\n        hotel: getPropertyValue(tripDetails.hotel, 'name', 'Hotel'),\r\n        lunch: details.lunch || null,\r\n        dinner: details.dinner || null,\r\n        attraction: details.attraction || null,\r\n        totalCost: Math.round(dayCost) // Round to nearest integer\r\n      };\r\n    });\r\n  };\r\n\r\n// Handle proceed to checkout\r\nconst handleProceedToCheckout = async () => {\r\n  try {\r\n    const { totalCost } = calculateTotalCost();\r\n    \r\n    // Create trip data object for checkout\r\n    const tripData = {\r\n      summary: {\r\n        from: tripSummary.startingPoint,\r\n        to: tripSummary.destination,\r\n        startDate: tripSummary.startDate,\r\n        endDate: tripSummary.endDate,\r\n        guests: tripSummary.guests,\r\n        duration: tripSummary.numberOfDays\r\n      },\r\n      days: buildItineraryDays(),\r\n      discountPercentage: 0, // Default no discount, can be calculated based on user points\r\n      totalCost\r\n    };\r\n    \r\n    // Update trip status to 'checkout' in database\r\n    await axios.patch(`/api/trips/${tripId}`, {\r\n      status: 'checkout',\r\n      checkoutData: tripData\r\n    });\r\n    \r\n    // Navigate to checkout page with tripId\r\n    navigate('/checkout', { \r\n      state: { \r\n        tripId: tripId \r\n      } \r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error proceeding to checkout:\", error);\r\n    setError(\"Failed to proceed to checkout. Please try again.\");\r\n  }\r\n};\r\n\r\n// Show loading spinner while data is being fetched\r\nif (isLoading) {\r\n  return (\r\n    <div className=\"customization-container\">\r\n      <Navbar />\r\n      <div className=\"content-wrapper loading-container\">\r\n        \r\n        <p>Loading your trip details...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Show error message if there was an error\r\nif (error) {\r\n  return (\r\n    <div className=\"customization-container\">\r\n      <Navbar />\r\n      <div className=\"content-wrapper error-container\">\r\n        <div className=\"error-message\">\r\n          <i className=\"fas fa-exclamation-circle\"></i>\r\n          <p>{error}</p>\r\n          <button className=\"retry-button\" onClick={() => window.location.reload()}>\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nreturn (\r\n  <div className=\"customization-container\">\r\n    <Navbar />\r\n    <div className=\"content-wrapper\">\r\n      <h2 className=\"customization-title\">Your Trip Details</h2>\r\n      \r\n      <div className=\"trip-summary\">\r\n        <h3>Trip Summary</h3>\r\n        <div className=\"summary-details\">\r\n          <div className=\"summary-col\">\r\n            <p><span>From:</span> {tripSummary.startingPoint}</p>\r\n            <p><span>To:</span> {tripSummary.destination}</p>\r\n            <p>\r\n              <span>Budget:</span> \r\n              {tripSummary.guests === 1 ? \" Economic\" : tripSummary.guests === 2 ? \" Normal\" : tripSummary.guests === 3 ? \" Luxury\" : \" N/A\"}\r\n            </p>\r\n          </div>\r\n          <div className=\"summary-col\">\r\n            <p><span>Start:</span> {formatDate(tripSummary.startDate)}</p>\r\n            <p><span>End:</span> {formatDate(tripSummary.endDate)}</p>\r\n            <p><span>Duration:</span> {tripSummary.numberOfDays} {tripSummary.numberOfDays === 1 ? 'Day' : 'Days'}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Trip-level Accommodation & Transport */}\r\n      <div className=\"trip-accommodations\">\r\n        <div className=\"section-header\">\r\n          <h3>Accommodation & Transport</h3>\r\n          <button className=\"edit-button\" onClick={handleEditTripDetails}>\r\n            <i className=\"fas fa-edit\"></i> Edit\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"trip-details-container\">\r\n          <div className=\"trip-detail-card\">\r\n            <div className=\"detail-icon\">\r\n              <i className=\"fas fa-hotel\"></i>\r\n            </div>\r\n            <div className=\"detail-content\">\r\n              <h4>Hotel</h4>\r\n              {tripDetails.hotel ? (\r\n                <div className=\"detail-info\">\r\n                  <p className=\"detail-name\">{getPropertyValue(tripDetails.hotel, 'name')}</p>\r\n                  <p className=\"detail-price\">{getPropertyValue(tripDetails.hotel, 'price')} PKR</p>\r\n                  <p className=\"detail-rating\">Rating: {getPropertyValue(tripDetails.hotel, 'rating')}/5</p>\r\n                  {tripDetails.hotel.address && (\r\n                    <p className=\"detail-address\">{tripDetails.hotel.address}</p>\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <div className=\"no-detail-info\">\r\n                  <p>No hotel selected</p>\r\n                  <button className=\"small-add-button\" onClick={handleEditTripDetails}>\r\n                    Add Hotel\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"trip-detail-card\">\r\n            <div className=\"detail-icon\">\r\n              <i className=\"fas fa-bus\"></i>\r\n            </div>\r\n            <div className=\"detail-content\">\r\n              <h4>Transport</h4>\r\n              {tripDetails.transport ? (\r\n                <div className=\"detail-info\">\r\n                  <p className=\"detail-type\">{getPropertyValue(tripDetails.transport, 'type', 'Vehicle')}</p>\r\n                  <p className=\"detail-name\">{\r\n                    getPropertyValue(tripDetails.transport, 'name') || \r\n                    getPropertyValue(tripDetails.transport, 'car_name') || \r\n                    getPropertyValue(tripDetails.transport, 'bus_name') || \r\n                    getPropertyValue(tripDetails.transport, 'train_name')\r\n                  }</p>\r\n                  <p className=\"detail-price\">{getPropertyValue(tripDetails.transport, 'price')} PKR</p>\r\n                  <p className=\"detail-time\">\r\n                    {getPropertyValue(tripDetails.transport, 'departure_time')}\r\n                    {tripDetails.transport.arrival_time && ` - ${tripDetails.transport.arrival_time}`}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"no-detail-info\">\r\n                  <p>No transport selected</p>\r\n                  <button className=\"small-add-button\" onClick={handleEditTripDetails}>\r\n                    Add Transport\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Day-by-Day Itinerary */}\r\n      {tripSummary.numberOfDays > 0 && (\r\n        <div className=\"days-section\">\r\n          <h3>Day-by-Day Itinerary</h3>\r\n          <div className=\"days-grid\">\r\n            {getDaysArray().map(({ dayNumber, dayDate }, index) => {\r\n              const details = dayDetails[dayNumber] || {};\r\n              const options = getOptionsForDestination();\r\n              \r\n              return (\r\n                <div key={index} className=\"day-card\">\r\n                  <div className=\"day-header\">\r\n                    <div className=\"day-number\">DAY {dayNumber}</div>\r\n                    <div className=\"day-date\">{formatDate(dayDate)}</div>\r\n                  </div>\r\n                  \r\n                  <div className=\"food-attractions-section\">\r\n                    <div className=\"select-container\">\r\n                      <label htmlFor={`lunch-day-${dayNumber}`}>Lunch:</label>\r\n                      <select\r\n                        id={`lunch-day-${dayNumber}`}\r\n                        value={details.lunch || ''}\r\n                        onChange={(e) => handleDetailChange(dayNumber, 'lunch', e.target.value)}\r\n                        className=\"custom-select\"\r\n                      >\r\n                        <option value=\"\">Select Lunch Place</option>\r\n                        {options.lunch.map((place, i) => (\r\n                          <option key={i} value={place}>{place}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"select-container\">\r\n                      <label htmlFor={`dinner-day-${dayNumber}`}>Dinner:</label>\r\n                      <select\r\n                        id={`dinner-day-${dayNumber}`}\r\n                        value={details.dinner || ''}\r\n                        onChange={(e) => handleDetailChange(dayNumber, 'dinner', e.target.value)}\r\n                        className=\"custom-select\"\r\n                      >\r\n                        <option value=\"\">Select Dinner Place</option>\r\n                        {options.dinner.map((place, i) => (\r\n                          <option key={i} value={place}>{place}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"select-container\">\r\n                      <label htmlFor={`attraction-day-${dayNumber}`}>Attraction:</label>\r\n                      <select\r\n                        id={`attraction-day-${dayNumber}`}\r\n                        value={details.attraction || ''}\r\n                        onChange={(e) => handleDetailChange(dayNumber, 'attraction', e.target.value)}\r\n                        className=\"custom-select\"\r\n                      >\r\n                        <option value=\"\">Select Attraction</option>\r\n                        {options.attractions.map((place, i) => (\r\n                          <option key={i} value={place}>{place}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    \r\n                    <div className=\"selected-options\">\r\n                      {details.lunch && (\r\n                        <div className=\"selected-item\">\r\n                          <span className=\"icon lunch-icon\"><i className=\"fas fa-utensils\"></i></span>\r\n                          <span className=\"item-name\">{details.lunch}</span>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {details.dinner && (\r\n                        <div className=\"selected-item\">\r\n                          <span className=\"icon dinner-icon\"><i className=\"fas fa-moon\"></i></span>\r\n                          <span className=\"item-name\">{details.dinner}</span>\r\n                        </div>\r\n                      )}\r\n                      \r\n                      {details.attraction && (\r\n                        <div className=\"selected-item\">\r\n                          <span className=\"icon attraction-icon\"><i className=\"fas fa-map-marker-alt\"></i></span>\r\n                          <span className=\"item-name\">{details.attraction}</span>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Calculate and display total trip cost */}\r\n      {(tripDetails.hotel || tripDetails.transport || Object.keys(dayDetails).length > 0) && (\r\n        <div className=\"trip-cost-summary\">\r\n          <h3>Total Trip Cost</h3>\r\n          {(() => {\r\n            const { totalCost, hotelCost, transportCost, foodCost, attractionsCost } = calculateTotalCost();\r\n            \r\n            return (\r\n              <div className=\"cost-breakdown\">\r\n                <div className=\"cost-grid\">\r\n                  <div className=\"cost-item\">\r\n                    <span className=\"cost-label\">Hotel:</span>\r\n                    <span className=\"cost-value\">{hotelCost.toLocaleString()} PKR</span>\r\n                  </div>\r\n                  <div className=\"cost-item\">\r\n                    <span className=\"cost-label\">Transport:</span>\r\n                    <span className=\"cost-value\">{transportCost.toLocaleString()} PKR</span>\r\n                  </div>\r\n                  <div className=\"cost-item\">\r\n                    <span className=\"cost-label\">Food:</span>\r\n                    <span className=\"cost-value\">{foodCost.toLocaleString()} PKR</span>\r\n                  </div>\r\n                  <div className=\"cost-item\">\r\n                    <span className=\"cost-label\">Attractions:</span>\r\n                    <span className=\"cost-value\">{attractionsCost.toLocaleString()} PKR</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"total-cost\">\r\n                  <span>Total Cost:</span> {totalCost.toLocaleString()} PKR\r\n                </div>\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n      )}\r\n      \r\n      <div className=\"action-buttons\">\r\n        <button className=\"back-button\" onClick={() => navigate(-1)}>\r\n          Back\r\n        </button>\r\n        <button \r\n          className=\"save-button\"\r\n          onClick={handleProceedToCheckout}\r\n          disabled={!tripDetails.hotel || !tripDetails.transport || tripSummary.numberOfDays === 0}\r\n        >\r\n          Pay\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n};\r\n\r\nexport default UserCustomization;"],"mappings":";AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKA;;AAGA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAO,yBAAyB;AAGhC,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAMM,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEM,iBAAiB;IAAEC;EAAY,CAAC,GAAGH,QAAQ,CAACI,KAAK,IAAI,CAAC,CAAC;EAC/D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC;IAC7CoB,aAAa,EAAE,EAAE;IACjBC,WAAW,EAAE,EAAE;IACfC,SAAS,EAAE,EAAE;IACbC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAE,CAAC;IACTC,YAAY,EAAE;EAChB,CAAC,CAAC;;EAEF;EACA,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC;IAC7C4B,KAAK,EAAE,IAAI;IACXC,SAAS,EAAE;EACb,CAAC,CAAC;;EAEF;EACA,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG/B,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEhD;EACA,MAAMgC,WAAW,GAAG;IAClB,WAAW,EAAE;MACXC,KAAK,EAAE,CAAC,kBAAkB,EAAE,qBAAqB,EAAE,cAAc,CAAC;MAClEC,MAAM,EAAE,CAAC,cAAc,EAAE,kBAAkB,EAAE,oBAAoB,CAAC;MAClEC,WAAW,EAAE,CAAC,eAAe,EAAE,aAAa,EAAE,mBAAmB;IACnE,CAAC;IACD,QAAQ,EAAE;MACRF,KAAK,EAAE,CAAC,mBAAmB,EAAE,mBAAmB,EAAE,cAAc,CAAC;MACjEC,MAAM,EAAE,CAAC,aAAa,EAAE,oBAAoB,EAAE,qBAAqB,CAAC;MACpEC,WAAW,EAAE,CAAC,iBAAiB,EAAE,aAAa,EAAE,kBAAkB;IACpE,CAAC;IACD,SAAS,EAAE;MACTF,KAAK,EAAE,CAAC,aAAa,EAAE,oBAAoB,EAAE,WAAW,CAAC;MACzDC,MAAM,EAAE,CAAC,YAAY,EAAE,iBAAiB,EAAE,UAAU,CAAC;MACrDC,WAAW,EAAE,CAAC,eAAe,EAAE,eAAe,EAAE,gBAAgB;IAClE,CAAC;IACD;IACA,SAAS,EAAE;MACTF,KAAK,EAAE,CAAC,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB,CAAC;MACzEC,MAAM,EAAE,CAAC,kBAAkB,EAAE,kBAAkB,EAAE,kBAAkB,CAAC;MACpEC,WAAW,EAAE,CAAC,oBAAoB,EAAE,oBAAoB,EAAE,oBAAoB;IAChF;EACF,CAAC;;EAED;EACAlC,SAAS,CAAC,MAAM;IACd,MAAMmC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QAAA,IAAAC,eAAA;QACFxB,YAAY,CAAC,IAAI,CAAC;;QAElB;QACA,MAAMyB,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC5C,IAAI,CAACF,MAAM,EAAE;UACX9B,QAAQ,CAAC,QAAQ,EAAE;YAAEG,KAAK,EAAE;cAAE8B,UAAU,EAAElC,QAAQ,CAACmC,QAAQ;cAAEC,aAAa,EAAEpC,QAAQ,CAACI;YAAM;UAAE,CAAC,CAAC;UAC/F;QACF;;QAEA;QACA,IAAIF,iBAAiB,EAAE;UACrB,MAAM;YAAEW,aAAa;YAAEC,WAAW;YAAEC,SAAS;YAAEC,OAAO;YAAEC;UAAO,CAAC,GAAGf,iBAAiB;;UAEpF;UACA,MAAMmC,KAAK,GAAG,IAAIC,IAAI,CAACvB,SAAS,CAAC;UACjC,MAAMwB,GAAG,GAAG,IAAID,IAAI,CAACtB,OAAO,CAAC;UAC7B,MAAMwB,QAAQ,GAAGD,GAAG,GAAGF,KAAK;UAC5B,MAAMI,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAACH,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC;UAChE,MAAMtB,YAAY,GAAGuB,QAAQ,GAAG,CAAC,GAAGA,QAAQ,GAAG,CAAC;;UAEhD;UACA,MAAMG,cAAc,GAAGC,cAAc,CAACZ,OAAO,CAAC,eAAe,CAAC;UAE9D,IAAIW,cAAc,EAAE;YAClB;YACA,MAAME,QAAQ,GAAG,MAAMjD,KAAK,CAACkD,GAAG,CAAC,mCAAmCH,cAAc,EAAE,CAAC;YACrF,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI;YAE9BzC,SAAS,CAACoC,cAAc,CAAC;YACzBhC,cAAc,CAAC;cACbC,aAAa,EAAEmC,QAAQ,CAACnC,aAAa;cACrCC,WAAW,EAAEkC,QAAQ,CAAClC,WAAW;cACjCC,SAAS,EAAEiC,QAAQ,CAACjC,SAAS;cAC7BC,OAAO,EAAEgC,QAAQ,CAAChC,OAAO;cACzBC,MAAM,EAAE+B,QAAQ,CAAC/B,MAAM;cACvBC,YAAY,EAAE8B,QAAQ,CAAC9B;YACzB,CAAC,CAAC;YACFE,cAAc,CAAC;cACbC,KAAK,EAAE2B,QAAQ,CAAC3B,KAAK,IAAI,IAAI;cAC7BC,SAAS,EAAE0B,QAAQ,CAAC1B,SAAS,IAAI;YACnC,CAAC,CAAC;YACFE,aAAa,CAACwB,QAAQ,CAACzB,UAAU,IAAI,CAAC,CAAC,CAAC;UAE1C,CAAC,MAAM;YACL;YACA,MAAMuB,QAAQ,GAAG,MAAMjD,KAAK,CAACqD,IAAI,CAAC,iCAAiC,EAAE;cACnEnB,MAAM;cACNlB,aAAa;cACbC,WAAW;cACXC,SAAS;cACTC,OAAO;cACPC,MAAM;cACNC,YAAY;cACZG,KAAK,EAAE,IAAI;cACXC,SAAS,EAAE,IAAI;cACfC,UAAU,EAAE,CAAC,CAAC;cACd4B,MAAM,EAAE;YACV,CAAC,CAAC;YAEF,MAAMC,SAAS,GAAGN,QAAQ,CAACG,IAAI,CAAC1C,MAAM;YACtCC,SAAS,CAAC4C,SAAS,CAAC;YACpBP,cAAc,CAACQ,OAAO,CAAC,eAAe,EAAED,SAAS,CAAC;;YAElD;YACAxC,cAAc,CAAC;cACbC,aAAa;cACbC,WAAW;cACXC,SAAS;cACTC,OAAO;cACPC,MAAM;cACNC;YACF,CAAC,CAAC;UACJ;QACF,CAAC,MAAM,KAAAY,eAAA,GAAI9B,QAAQ,CAACI,KAAK,cAAA0B,eAAA,uBAAdA,eAAA,CAAgBvB,MAAM,EAAE;UACjC;UACA,MAAMuC,QAAQ,GAAG,MAAMjD,KAAK,CAACkD,GAAG,CAAC,mCAAmC/C,QAAQ,CAACI,KAAK,CAACG,MAAM,EAAE,CAAC;UAC5F,MAAMyC,QAAQ,GAAGF,QAAQ,CAACG,IAAI;UAE9BzC,SAAS,CAACwC,QAAQ,CAACM,GAAG,CAAC;UACvBT,cAAc,CAACQ,OAAO,CAAC,eAAe,EAAEL,QAAQ,CAACM,GAAG,CAAC;UAErD1C,cAAc,CAAC;YACbC,aAAa,EAAEmC,QAAQ,CAACnC,aAAa;YACrCC,WAAW,EAAEkC,QAAQ,CAAClC,WAAW;YACjCC,SAAS,EAAEiC,QAAQ,CAACjC,SAAS;YAC7BC,OAAO,EAAEgC,QAAQ,CAAChC,OAAO;YACzBC,MAAM,EAAE+B,QAAQ,CAAC/B,MAAM;YACvBC,YAAY,EAAE8B,QAAQ,CAAC9B;UACzB,CAAC,CAAC;UACFE,cAAc,CAAC;YACbC,KAAK,EAAE2B,QAAQ,CAAC3B,KAAK,IAAI,IAAI;YAC7BC,SAAS,EAAE0B,QAAQ,CAAC1B,SAAS,IAAI;UACnC,CAAC,CAAC;UACFE,aAAa,CAACwB,QAAQ,CAACzB,UAAU,IAAI,CAAC,CAAC,CAAC;QAE1C,CAAC,MAAM;UACL;UACA,MAAMqB,cAAc,GAAGC,cAAc,CAACZ,OAAO,CAAC,eAAe,CAAC;UAE9D,IAAIW,cAAc,EAAE;YAClB,MAAME,QAAQ,GAAG,MAAMjD,KAAK,CAACkD,GAAG,CAAC,mCAAmCH,cAAc,EAAE,CAAC;YACrF,MAAMI,QAAQ,GAAGF,QAAQ,CAACG,IAAI;YAE9BzC,SAAS,CAACoC,cAAc,CAAC;YACzBhC,cAAc,CAAC;cACbC,aAAa,EAAEmC,QAAQ,CAACnC,aAAa;cACrCC,WAAW,EAAEkC,QAAQ,CAAClC,WAAW;cACjCC,SAAS,EAAEiC,QAAQ,CAACjC,SAAS;cAC7BC,OAAO,EAAEgC,QAAQ,CAAChC,OAAO;cACzBC,MAAM,EAAE+B,QAAQ,CAAC/B,MAAM;cACvBC,YAAY,EAAE8B,QAAQ,CAAC9B;YACzB,CAAC,CAAC;YACFE,cAAc,CAAC;cACbC,KAAK,EAAE2B,QAAQ,CAAC3B,KAAK,IAAI,IAAI;cAC7BC,SAAS,EAAE0B,QAAQ,CAAC1B,SAAS,IAAI;YACnC,CAAC,CAAC;YACFE,aAAa,CAACwB,QAAQ,CAACzB,UAAU,IAAI,CAAC,CAAC,CAAC;UAC1C,CAAC,MAAM;YACL;YACAtB,QAAQ,CAAC,GAAG,CAAC;YACb;UACF;QACF;QAEAK,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,OAAOG,KAAK,EAAE;QACd8C,OAAO,CAAC9C,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDC,QAAQ,CAAC,6CAA6C,CAAC;QACvDJ,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDuB,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAAC3B,iBAAiB,EAAEF,QAAQ,CAACI,KAAK,EAAEH,QAAQ,EAAED,QAAQ,CAACmC,QAAQ,CAAC,CAAC;;EAEpE;EACAzC,SAAS,CAAC,MAAM;IACd,MAAM8D,oBAAoB,GAAG,MAAAA,CAAA,KAAY;MACvC,IAAIrD,WAAW,IAAII,MAAM,EAAE;QACzB,MAAM;UAAEkD,aAAa;UAAEC;QAAkB,CAAC,GAAGvD,WAAW;QAExD,IAAI;UACF;UACA,MAAMwD,cAAc,GAAG;YACrB,GAAGxC,WAAW;YACdE,KAAK,EAAEoC,aAAa,IAAItC,WAAW,CAACE,KAAK;YACzCC,SAAS,EAAEoC,iBAAiB,IAAIvC,WAAW,CAACG;UAC9C,CAAC;UAEDF,cAAc,CAACuC,cAAc,CAAC;;UAE9B;UACA,MAAM9D,KAAK,CAAC+D,KAAK,CAAC,cAAcrD,MAAM,EAAE,EAAE;YACxCc,KAAK,EAAEoC,aAAa,IAAItC,WAAW,CAACE,KAAK;YACzCC,SAAS,EAAEoC,iBAAiB,IAAIvC,WAAW,CAACG;UAC9C,CAAC,CAAC;QACJ,CAAC,CAAC,OAAOb,KAAK,EAAE;UACd8C,OAAO,CAAC9C,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;UACvDC,QAAQ,CAAC,qDAAqD,CAAC;QACjE;MACF;IACF,CAAC;IAED8C,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACrD,WAAW,EAAEI,MAAM,CAAC,CAAC;;EAEzB;EACA,MAAMsD,qBAAqB,GAAGA,CAAA,KAAM;IAClC5D,QAAQ,CAAC,aAAa,EAAE;MACtBG,KAAK,EAAE;QACLF,iBAAiB,EAAE;UACjBW,aAAa,EAAEF,WAAW,CAACE,aAAa;UACxCC,WAAW,EAAEH,WAAW,CAACG,WAAW;UACpCC,SAAS,EAAEJ,WAAW,CAACI,SAAS;UAChCC,OAAO,EAAEL,WAAW,CAACK,OAAO;UAC5BC,MAAM,EAAEN,WAAW,CAACM;QACtB,CAAC;QACD6C,cAAc,EAAE3C,WAAW;QAC3BZ,MAAM,EAAEA;MACV;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMwD,kBAAkB,GAAG,MAAAA,CAAOC,GAAG,EAAEC,IAAI,EAAEC,KAAK,KAAK;IACrD,IAAI;MACF;MACA,MAAMC,iBAAiB,GAAG;QACxB,GAAG5C,UAAU;QACb,CAACyC,GAAG,GAAG;UACL,GAAGzC,UAAU,CAACyC,GAAG,CAAC;UAClB,CAACC,IAAI,GAAGC;QACV;MACF,CAAC;MAED1C,aAAa,CAAC2C,iBAAiB,CAAC;;MAEhC;MACA,MAAMtE,KAAK,CAAC+D,KAAK,CAAC,cAAcrD,MAAM,EAAE,EAAE;QACxCgB,UAAU,EAAE4C;MACd,CAAC,CAAC;IACJ,CAAC,CAAC,OAAO1D,KAAK,EAAE;MACd8C,OAAO,CAAC9C,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDC,QAAQ,CAAC,iDAAiD,CAAC;IAC7D;EACF,CAAC;;EAED;EACA,MAAM0D,gBAAgB,GAAGA,CAACC,GAAG,EAAEC,QAAQ,EAAEC,QAAQ,GAAG,KAAK,KAAK;IAC5D,IAAI,CAACF,GAAG,EAAE,OAAOE,QAAQ;IAEzB,MAAMC,UAAU,GAAGF,QAAQ,CAACG,KAAK,CAAC,GAAG,CAAC;IACtC,IAAIP,KAAK,GAAGG,GAAG;IAEf,KAAK,MAAMK,IAAI,IAAIF,UAAU,EAAE;MAC7B,IAAIN,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIQ,IAAI,IAAIR,KAAK,EAAE;QACvDA,KAAK,GAAGA,KAAK,CAACQ,IAAI,CAAC;MACrB,CAAC,MAAM;QACL,OAAOH,QAAQ;MACjB;IACF;IAEA,OAAOL,KAAK,IAAIK,QAAQ;EAC1B,CAAC;;EAED;EACA,MAAMI,UAAU,GAAIC,UAAU,IAAK;IACjC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE;IAC1B,MAAMC,IAAI,GAAG,IAAIvC,IAAI,CAACsC,UAAU,CAAC;IACjC,OAAOC,IAAI,CAACC,kBAAkB,CAAC,OAAO,EAAE;MACtCC,OAAO,EAAE,OAAO;MAChBC,KAAK,EAAE,OAAO;MACdhB,GAAG,EAAE,SAAS;MACdiB,IAAI,EAAE;IACR,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;IACrC,OAAOzD,WAAW,CAACd,WAAW,CAACG,WAAW,CAAC,IAAIW,WAAW,CAAC,SAAS,CAAC;EACvE,CAAC;;EAED;EACA,MAAM0D,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,aAAa,GAAG,CAAC;IACrB,IAAIC,QAAQ,GAAG,CAAC;IAChB,IAAIC,eAAe,GAAG,CAAC;;IAEvB;IACA,IAAIrE,WAAW,CAACE,KAAK,IAAIF,WAAW,CAACE,KAAK,CAACoE,KAAK,EAAE;MAChD,MAAMA,KAAK,GAAGC,UAAU,CAACvE,WAAW,CAACE,KAAK,CAACoE,KAAK,CAAC;MACjD,IAAI,CAACE,KAAK,CAACF,KAAK,CAAC,EAAE;QACjBJ,SAAS,GAAGI,KAAK;QACjBL,SAAS,IAAIK,KAAK;MACpB;IACF;IAEA,IAAItE,WAAW,CAACG,SAAS,IAAIH,WAAW,CAACG,SAAS,CAACmE,KAAK,EAAE;MACxD,MAAMA,KAAK,GAAGC,UAAU,CAACvE,WAAW,CAACG,SAAS,CAACmE,KAAK,CAAC;MACrD,IAAI,CAACE,KAAK,CAACF,KAAK,CAAC,EAAE;QACjBH,aAAa,GAAGG,KAAK;QACrBL,SAAS,IAAIK,KAAK;MACpB;IACF;;IAEA;IACA,MAAMG,UAAU,GAAG,IAAI,CAAC,CAAC;IACzB,MAAMC,WAAW,GAAG,IAAI,CAAC,CAAC;IAC1B,MAAMC,eAAe,GAAG,GAAG,CAAC,CAAC;;IAE7B;IACAC,MAAM,CAACC,MAAM,CAACzE,UAAU,CAAC,CAAC0E,OAAO,CAACjC,GAAG,IAAI;MACvC;MACA,IAAIA,GAAG,CAACtC,KAAK,EAAE;QACb,MAAMwE,QAAQ,GAAGN,UAAU;QAC3BL,QAAQ,IAAIW,QAAQ;QACpBd,SAAS,IAAIc,QAAQ;MACvB;;MAEA;MACA,IAAIlC,GAAG,CAACrC,MAAM,EAAE;QACd,MAAMwE,SAAS,GAAGN,WAAW;QAC7BN,QAAQ,IAAIY,SAAS;QACrBf,SAAS,IAAIe,SAAS;MACxB;;MAEA;MACA,IAAInC,GAAG,CAACoC,UAAU,EAAE;QAClB,MAAMC,aAAa,GAAGP,eAAe,GAAGnF,WAAW,CAACM,MAAM;QAC1DuE,eAAe,IAAIa,aAAa;QAChCjB,SAAS,IAAIiB,aAAa;MAC5B;IACF,CAAC,CAAC;IAEF,OAAO;MAAEjB,SAAS;MAAEC,SAAS;MAAEC,aAAa;MAAEC,QAAQ;MAAEC;IAAgB,CAAC;EAC3E,CAAC;;EAED;EACA,MAAMc,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,IAAI,GAAG,EAAE;IACf,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,WAAW,CAACO,YAAY,EAAEsF,CAAC,EAAE,EAAE;MACjD,MAAMC,SAAS,GAAGD,CAAC,GAAG,CAAC;MACvB,MAAME,OAAO,GAAG,IAAIpE,IAAI,CAAC3B,WAAW,CAACI,SAAS,CAAC;MAC/C2F,OAAO,CAACC,OAAO,CAACD,OAAO,CAACE,OAAO,CAAC,CAAC,GAAGJ,CAAC,CAAC;MACtCD,IAAI,CAACM,IAAI,CAAC;QAAEJ,SAAS;QAAEC;MAAQ,CAAC,CAAC;IACnC;IACA,OAAOH,IAAI;EACb,CAAC;;EAED;EACA,MAAMO,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,OAAOR,YAAY,CAAC,CAAC,CAACS,GAAG,CAAC,CAAC;MAAEN;IAAU,CAAC,KAAK;MAC3C,MAAMO,OAAO,GAAGzF,UAAU,CAACkF,SAAS,CAAC,IAAI,CAAC,CAAC;MAC3C,MAAMQ,QAAQ,GAAG,OAAOR,SAAS,KAAKrC,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,MAAM,EAAE,MAAM,CAAC,UAAU;;MAEvG;MACA,IAAI4F,OAAO,GAAG,CAAC;;MAEf;MACA,IAAI/F,WAAW,CAACE,KAAK,IAAIF,WAAW,CAACE,KAAK,CAACoE,KAAK,EAAE;QAChD,MAAM0B,UAAU,GAAGzB,UAAU,CAACvE,WAAW,CAACE,KAAK,CAACoE,KAAK,CAAC;QACtD,IAAI,CAACE,KAAK,CAACwB,UAAU,CAAC,EAAE;UACtBD,OAAO,IAAIC,UAAU,GAAGxG,WAAW,CAACO,YAAY;QAClD;MACF;;MAEA;MACA,IAAIC,WAAW,CAACG,SAAS,IAAIH,WAAW,CAACG,SAAS,CAACmE,KAAK,EAAE;QACxD,MAAM2B,cAAc,GAAG1B,UAAU,CAACvE,WAAW,CAACG,SAAS,CAACmE,KAAK,CAAC;QAC9D,IAAI,CAACE,KAAK,CAACyB,cAAc,CAAC,EAAE;UAC1BF,OAAO,IAAIE,cAAc,GAAGzG,WAAW,CAACO,YAAY;QACtD;MACF;;MAEA;MACA,IAAI8F,OAAO,CAACtF,KAAK,EAAEwF,OAAO,IAAI,IAAI,CAAC,CAAC;MACpC,IAAIF,OAAO,CAACrF,MAAM,EAAEuF,OAAO,IAAI,IAAI,CAAC,CAAC;MACrC,IAAIF,OAAO,CAACZ,UAAU,EAAEc,OAAO,IAAI,GAAG,GAAGvG,WAAW,CAACM,MAAM,CAAC,CAAC;;MAE7D,OAAO;QACLwF,SAAS;QACTY,KAAK,EAAEJ,QAAQ;QACfK,aAAa,EAAElD,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,MAAM,EAAE,WAAW,CAAC;QAC3ED,KAAK,EAAE+C,gBAAgB,CAACjD,WAAW,CAACE,KAAK,EAAE,MAAM,EAAE,OAAO,CAAC;QAC3DK,KAAK,EAAEsF,OAAO,CAACtF,KAAK,IAAI,IAAI;QAC5BC,MAAM,EAAEqF,OAAO,CAACrF,MAAM,IAAI,IAAI;QAC9ByE,UAAU,EAAEY,OAAO,CAACZ,UAAU,IAAI,IAAI;QACtChB,SAAS,EAAE1C,IAAI,CAAC6E,KAAK,CAACL,OAAO,CAAC,CAAC;MACjC,CAAC;IACH,CAAC,CAAC;EACJ,CAAC;;EAEH;EACA,MAAMM,uBAAuB,GAAG,MAAAA,CAAA,KAAY;IAC1C,IAAI;MACF,MAAM;QAAEpC;MAAU,CAAC,GAAGD,kBAAkB,CAAC,CAAC;;MAE1C;MACA,MAAMnC,QAAQ,GAAG;QACfyE,OAAO,EAAE;UACPC,IAAI,EAAE/G,WAAW,CAACE,aAAa;UAC/B8G,EAAE,EAAEhH,WAAW,CAACG,WAAW;UAC3BC,SAAS,EAAEJ,WAAW,CAACI,SAAS;UAChCC,OAAO,EAAEL,WAAW,CAACK,OAAO;UAC5BC,MAAM,EAAEN,WAAW,CAACM,MAAM;UAC1B2G,QAAQ,EAAEjH,WAAW,CAACO;QACxB,CAAC;QACDqF,IAAI,EAAEO,kBAAkB,CAAC,CAAC;QAC1Be,kBAAkB,EAAE,CAAC;QAAE;QACvBzC;MACF,CAAC;;MAED;MACA,MAAMvF,KAAK,CAAC+D,KAAK,CAAC,cAAcrD,MAAM,EAAE,EAAE;QACxC4C,MAAM,EAAE,UAAU;QAClB2E,YAAY,EAAE9E;MAChB,CAAC,CAAC;;MAEF;MACA/C,QAAQ,CAAC,WAAW,EAAE;QACpBG,KAAK,EAAE;UACLG,MAAM,EAAEA;QACV;MACF,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd8C,OAAO,CAAC9C,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDC,QAAQ,CAAC,kDAAkD,CAAC;IAC9D;EACF,CAAC;;EAED;EACA,IAAIL,SAAS,EAAE;IACb,oBACEb,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,yBAAyB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACtC9I,KAAA,CAAAuI,aAAA,CAACjI,MAAM;MAAAmI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,eACV9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,mCAAmC;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEhD9I,KAAA,CAAAuI,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAG,8BAA+B,CAC/B,CACF,CAAC;EAEV;;EAEA;EACA,IAAI7H,KAAK,EAAE;IACT,oBACEjB,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,yBAAyB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACtC9I,KAAA,CAAAuI,aAAA,CAACjI,MAAM;MAAAmI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,eACV9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,iCAAiC;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC9C9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5B9I,KAAA,CAAAuI,aAAA;MAAGC,SAAS,EAAC,2BAA2B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAI,CAAC,eAC7C9I,KAAA,CAAAuI,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAI7H,KAAS,CAAC,eACdjB,KAAA,CAAAuI,aAAA;MAAQC,SAAS,EAAC,cAAc;MAACO,OAAO,EAAEA,CAAA,KAAMC,MAAM,CAACxI,QAAQ,CAACyI,MAAM,CAAC,CAAE;MAAAR,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,OAElE,CACL,CACF,CACF,CAAC;EAEV;EAEA,oBACE9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,yBAAyB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtC9I,KAAA,CAAAuI,aAAA,CAACjI,MAAM;IAAAmI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACV9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9B9I,KAAA,CAAAuI,aAAA;IAAIC,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAAqB,CAAC,eAE1D9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAgB,CAAC,eACrB9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9B9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,OAAW,CAAC,KAAC,EAAC3H,WAAW,CAACE,aAAiB,CAAC,eACrDrB,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,KAAS,CAAC,KAAC,EAAC3H,WAAW,CAACG,WAAe,CAAC,eACjDtB,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACE9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,SAAa,CAAC,EACnB3H,WAAW,CAACM,MAAM,KAAK,CAAC,GAAG,WAAW,GAAGN,WAAW,CAACM,MAAM,KAAK,CAAC,GAAG,SAAS,GAAGN,WAAW,CAACM,MAAM,KAAK,CAAC,GAAG,SAAS,GAAG,MACvH,CACA,CAAC,eACNzB,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,QAAY,CAAC,KAAC,EAAC3D,UAAU,CAAChE,WAAW,CAACI,SAAS,CAAK,CAAC,eAC9DvB,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,MAAU,CAAC,KAAC,EAAC3D,UAAU,CAAChE,WAAW,CAACK,OAAO,CAAK,CAAC,eAC1DxB,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,WAAe,CAAC,KAAC,EAAC3H,WAAW,CAACO,YAAY,EAAC,GAAC,EAACP,WAAW,CAACO,YAAY,KAAK,CAAC,GAAG,KAAK,GAAG,MAAU,CACtG,CACF,CACF,CAAC,eAGN1B,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,qBAAqB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClC9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,2BAA6B,CAAC,eAClC9I,KAAA,CAAAuI,aAAA;IAAQC,SAAS,EAAC,aAAa;IAACO,OAAO,EAAE1E,qBAAsB;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7D9I,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAI,CAAC,SACzB,CACL,CAAC,eAEN9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,wBAAwB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrC9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,kBAAkB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/B9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAI,CAC5B,CAAC,eACN9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,OAAS,CAAC,EACbnH,WAAW,CAACE,KAAK,gBAChB7B,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAElE,gBAAgB,CAACjD,WAAW,CAACE,KAAK,EAAE,MAAM,CAAK,CAAC,eAC5E7B,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAElE,gBAAgB,CAACjD,WAAW,CAACE,KAAK,EAAE,OAAO,CAAC,EAAC,MAAO,CAAC,eAClF7B,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,eAAe;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,UAAQ,EAAClE,gBAAgB,CAACjD,WAAW,CAACE,KAAK,EAAE,QAAQ,CAAC,EAAC,IAAK,CAAC,EACzFF,WAAW,CAACE,KAAK,CAACqH,OAAO,iBACxBlJ,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEnH,WAAW,CAACE,KAAK,CAACqH,OAAW,CAE3D,CAAC,gBAENlJ,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,mBAAoB,CAAC,eACxB9I,KAAA,CAAAuI,aAAA;IAAQC,SAAS,EAAC,kBAAkB;IAACO,OAAO,EAAE1E,qBAAsB;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAE7D,CACL,CAEJ,CACF,CAAC,eAEN9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,kBAAkB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/B9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAI,CAC1B,CAAC,eACN9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,WAAa,CAAC,EACjBnH,WAAW,CAACG,SAAS,gBACpB9B,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC1B9I,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAElE,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,MAAM,EAAE,SAAS,CAAK,CAAC,eAC3F9B,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxBlE,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,MAAM,CAAC,IAC/C8C,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,UAAU,CAAC,IACnD8C,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,UAAU,CAAC,IACnD8C,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,YAAY,CAClD,CAAC,eACL9B,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAElE,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,OAAO,CAAC,EAAC,MAAO,CAAC,eACtF9B,KAAA,CAAAuI,aAAA;IAAGC,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACvBlE,gBAAgB,CAACjD,WAAW,CAACG,SAAS,EAAE,gBAAgB,CAAC,EACzDH,WAAW,CAACG,SAAS,CAACqH,YAAY,IAAI,MAAMxH,WAAW,CAACG,SAAS,CAACqH,YAAY,EAC9E,CACA,CAAC,gBAENnJ,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,uBAAwB,CAAC,eAC5B9I,KAAA,CAAAuI,aAAA;IAAQC,SAAS,EAAC,kBAAkB;IAACO,OAAO,EAAE1E,qBAAsB;IAAAoE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,eAE7D,CACL,CAEJ,CACF,CACF,CACF,CAAC,EAGL3H,WAAW,CAACO,YAAY,GAAG,CAAC,iBAC3B1B,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,sBAAwB,CAAC,eAC7B9I,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACvBhC,YAAY,CAAC,CAAC,CAACS,GAAG,CAAC,CAAC;IAAEN,SAAS;IAAEC;EAAQ,CAAC,EAAEkC,KAAK,KAAK;IACrD,MAAM5B,OAAO,GAAGzF,UAAU,CAACkF,SAAS,CAAC,IAAI,CAAC,CAAC;IAC3C,MAAMoC,OAAO,GAAG3D,wBAAwB,CAAC,CAAC;IAE1C,oBACE1F,KAAA,CAAAuI,aAAA;MAAKe,GAAG,EAAEF,KAAM;MAACZ,SAAS,EAAC,UAAU;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACnC9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACzB9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,MAAI,EAAC7B,SAAe,CAAC,eACjDjH,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,UAAU;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAE3D,UAAU,CAAC+B,OAAO,CAAO,CACjD,CAAC,eAENlH,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,0BAA0B;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvC9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,kBAAkB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/B9I,KAAA,CAAAuI,aAAA;MAAOgB,OAAO,EAAE,aAAatC,SAAS,EAAG;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,QAAa,CAAC,eACxD9I,KAAA,CAAAuI,aAAA;MACEiB,EAAE,EAAE,aAAavC,SAAS,EAAG;MAC7BvC,KAAK,EAAE8C,OAAO,CAACtF,KAAK,IAAI,EAAG;MAC3BuH,QAAQ,EAAGC,CAAC,IAAKnF,kBAAkB,CAAC0C,SAAS,EAAE,OAAO,EAAEyC,CAAC,CAACC,MAAM,CAACjF,KAAK,CAAE;MACxE8D,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEzB9I,KAAA,CAAAuI,aAAA;MAAQ7D,KAAK,EAAC,EAAE;MAAA+D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,oBAA0B,CAAC,EAC3CO,OAAO,CAACnH,KAAK,CAACqF,GAAG,CAAC,CAACqC,KAAK,EAAE5C,CAAC,kBAC1BhH,KAAA,CAAAuI,aAAA;MAAQe,GAAG,EAAEtC,CAAE;MAACtC,KAAK,EAAEkF,KAAM;MAAAnB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEc,KAAc,CAC9C,CACK,CACL,CAAC,eAEN5J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,kBAAkB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/B9I,KAAA,CAAAuI,aAAA;MAAOgB,OAAO,EAAE,cAActC,SAAS,EAAG;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,SAAc,CAAC,eAC1D9I,KAAA,CAAAuI,aAAA;MACEiB,EAAE,EAAE,cAAcvC,SAAS,EAAG;MAC9BvC,KAAK,EAAE8C,OAAO,CAACrF,MAAM,IAAI,EAAG;MAC5BsH,QAAQ,EAAGC,CAAC,IAAKnF,kBAAkB,CAAC0C,SAAS,EAAE,QAAQ,EAAEyC,CAAC,CAACC,MAAM,CAACjF,KAAK,CAAE;MACzE8D,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEzB9I,KAAA,CAAAuI,aAAA;MAAQ7D,KAAK,EAAC,EAAE;MAAA+D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,qBAA2B,CAAC,EAC5CO,OAAO,CAAClH,MAAM,CAACoF,GAAG,CAAC,CAACqC,KAAK,EAAE5C,CAAC,kBAC3BhH,KAAA,CAAAuI,aAAA;MAAQe,GAAG,EAAEtC,CAAE;MAACtC,KAAK,EAAEkF,KAAM;MAAAnB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEc,KAAc,CAC9C,CACK,CACL,CAAC,eAEN5J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,kBAAkB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/B9I,KAAA,CAAAuI,aAAA;MAAOgB,OAAO,EAAE,kBAAkBtC,SAAS,EAAG;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,aAAkB,CAAC,eAClE9I,KAAA,CAAAuI,aAAA;MACEiB,EAAE,EAAE,kBAAkBvC,SAAS,EAAG;MAClCvC,KAAK,EAAE8C,OAAO,CAACZ,UAAU,IAAI,EAAG;MAChC6C,QAAQ,EAAGC,CAAC,IAAKnF,kBAAkB,CAAC0C,SAAS,EAAE,YAAY,EAAEyC,CAAC,CAACC,MAAM,CAACjF,KAAK,CAAE;MAC7E8D,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEzB9I,KAAA,CAAAuI,aAAA;MAAQ7D,KAAK,EAAC,EAAE;MAAA+D,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,mBAAyB,CAAC,EAC1CO,OAAO,CAACjH,WAAW,CAACmF,GAAG,CAAC,CAACqC,KAAK,EAAE5C,CAAC,kBAChChH,KAAA,CAAAuI,aAAA;MAAQe,GAAG,EAAEtC,CAAE;MAACtC,KAAK,EAAEkF,KAAM;MAAAnB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEc,KAAc,CAC9C,CACK,CACL,CAAC,eAEN5J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,kBAAkB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC9BtB,OAAO,CAACtF,KAAK,iBACZlC,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5B9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,iBAAiB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAAC9I,KAAA,CAAAuI,aAAA;MAAGC,SAAS,EAAC,iBAAiB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAI,CAAO,CAAC,eAC5E9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEtB,OAAO,CAACtF,KAAY,CAC9C,CACN,EAEAsF,OAAO,CAACrF,MAAM,iBACbnC,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5B9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,kBAAkB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAAC9I,KAAA,CAAAuI,aAAA;MAAGC,SAAS,EAAC,aAAa;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAI,CAAO,CAAC,eACzE9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEtB,OAAO,CAACrF,MAAa,CAC/C,CACN,EAEAqF,OAAO,CAACZ,UAAU,iBACjB5G,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,eAAe;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5B9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,sBAAsB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAAC9I,KAAA,CAAAuI,aAAA;MAAGC,SAAS,EAAC,uBAAuB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAI,CAAO,CAAC,eACvF9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEtB,OAAO,CAACZ,UAAiB,CACnD,CAEJ,CACF,CACF,CAAC;EAEV,CAAC,CACE,CACF,CACN,EAGA,CAACjF,WAAW,CAACE,KAAK,IAAIF,WAAW,CAACG,SAAS,IAAIyE,MAAM,CAACsD,IAAI,CAAC9H,UAAU,CAAC,CAAC+H,MAAM,GAAG,CAAC,kBAChF9J,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,mBAAmB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChC9I,KAAA,CAAAuI,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,iBAAmB,CAAC,EACvB,CAAC,MAAM;IACN,MAAM;MAAElD,SAAS;MAAEC,SAAS;MAAEC,aAAa;MAAEC,QAAQ;MAAEC;IAAgB,CAAC,GAAGL,kBAAkB,CAAC,CAAC;IAE/F,oBACE3F,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,gBAAgB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxB9I,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxB9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,QAAY,CAAC,eAC1C9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEjD,SAAS,CAACkE,cAAc,CAAC,CAAC,EAAC,MAAU,CAChE,CAAC,eACN/J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxB9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,YAAgB,CAAC,eAC9C9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAEhD,aAAa,CAACiE,cAAc,CAAC,CAAC,EAAC,MAAU,CACpE,CAAC,eACN/J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxB9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,OAAW,CAAC,eACzC9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAE/C,QAAQ,CAACgE,cAAc,CAAC,CAAC,EAAC,MAAU,CAC/D,CAAC,eACN/J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxB9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,cAAkB,CAAC,eAChD9I,KAAA,CAAAuI,aAAA;MAAMC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAE9C,eAAe,CAAC+D,cAAc,CAAC,CAAC,EAAC,MAAU,CACtE,CACF,CAAC,eACN/J,KAAA,CAAAuI,aAAA;MAAKC,SAAS,EAAC,YAAY;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACzB9I,KAAA,CAAAuI,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAM,aAAiB,CAAC,KAAC,EAAClD,SAAS,CAACmE,cAAc,CAAC,CAAC,EAAC,MAClD,CACF,CAAC;EAEV,CAAC,EAAE,CACA,CACN,eAED/J,KAAA,CAAAuI,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC7B9I,KAAA,CAAAuI,aAAA;IAAQC,SAAS,EAAC,aAAa;IAACO,OAAO,EAAEA,CAAA,KAAMtI,QAAQ,CAAC,CAAC,CAAC,CAAE;IAAAgI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,MAErD,CAAC,eACT9I,KAAA,CAAAuI,aAAA;IACEC,SAAS,EAAC,aAAa;IACvBO,OAAO,EAAEf,uBAAwB;IACjCgC,QAAQ,EAAE,CAACrI,WAAW,CAACE,KAAK,IAAI,CAACF,WAAW,CAACG,SAAS,IAAIX,WAAW,CAACO,YAAY,KAAK,CAAE;IAAA+G,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC1F,KAEO,CACL,CACF,CACF,CAAC;AAER,CAAC;AAED,eAAevI,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module"}