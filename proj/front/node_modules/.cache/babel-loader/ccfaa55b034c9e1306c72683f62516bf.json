{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Documents\\\\GitHub\\\\Voyaige\\\\proj\\\\front\\\\src\\\\components\\\\ChatbotPage\\\\MiloChatbot.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Navbar from \"../NavBar/Navbar\";\nimport \"./MiloChatbot.css\";\nconst MiloChatbot = () => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [welcomeVisible, setWelcomeVisible] = useState(true);\n  const [history, setHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n\n  // Function to simulate response from chatbot.py logic\n  const getMiloResponse = userMessage => {\n    // Simulate chatbot.py functionality\n    if (userMessage.toLowerCase().includes(\"help\")) {\n      return \"Sure, I can help you! Tell me your preferences.\";\n    } else if (userMessage.toLowerCase().includes(\"book\")) {\n      return \"I can help with booking flights, hotels, or buses. What do you need?\";\n    } else {\n      return \"I'm not sure about that. Could you clarify your question?\";\n    }\n  };\n  const handleInputChange = e => {\n    setInput(e.target.value);\n  };\n  const handleSendMessage = () => {\n    if (!input.trim()) return;\n    const userMessage = input;\n    const newMessages = [...messages, {\n      sender: \"user\",\n      text: userMessage\n    }, {\n      sender: \"milo\",\n      text: getMiloResponse(userMessage)\n    }];\n    setMessages(newMessages);\n    setHistory([userMessage, ...history]);\n    setInput(\"\");\n    setWelcomeVisible(false);\n    setHistoryIndex(-1);\n  };\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\") {\n      handleSendMessage();\n    } else if (e.key === \"ArrowUp\") {\n      if (history.length > 0 && historyIndex < history.length - 1) {\n        const newIndex = historyIndex + 1;\n        setInput(history[newIndex]);\n        setHistoryIndex(newIndex);\n      }\n    } else if (e.key === \"ArrowDown\") {\n      if (historyIndex > 0) {\n        const newIndex = historyIndex - 1;\n        setInput(history[newIndex]);\n        setHistoryIndex(newIndex);\n      } else {\n        setInput(\"\");\n        setHistoryIndex(-1);\n      }\n    }\n  };\n  useEffect(() => {\n    // Auto-scroll to bottom when messages update\n    const chatContainer = document.getElementById(\"chat-container\");\n    if (chatContainer) {\n      chatContainer.scrollTop = chatContainer.scrollHeight;\n    }\n  }, [messages]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chatbot-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), welcomeVisible && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcome-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Welcome to a chat with Milo, your own personal smart AI trip planner.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Click on the input bar to start the chat.\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"chat-container\",\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, !welcomeVisible && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-bubble milo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Milo: Hi, how may I help you plan your trip?\")), messages.map((msg, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: `chat-bubble ${msg.sender}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, msg.sender === \"user\" ? `You: ${msg.text}` : `Milo: ${msg.text}`)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Type your message here...\",\n    value: input,\n    onChange: handleInputChange,\n    onKeyDown: handleKeyDown,\n    onFocus: () => setWelcomeVisible(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSendMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n};\nexport default MiloChatbot;","map":{"version":3,"names":["React","useState","useEffect","Navbar","MiloChatbot","messages","setMessages","input","setInput","welcomeVisible","setWelcomeVisible","history","setHistory","historyIndex","setHistoryIndex","getMiloResponse","userMessage","toLowerCase","includes","handleInputChange","e","target","value","handleSendMessage","trim","newMessages","sender","text","handleKeyDown","key","length","newIndex","chatContainer","document","getElementById","scrollTop","scrollHeight","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","id","map","msg","index","type","placeholder","onChange","onKeyDown","onFocus","onClick"],"sources":["C:/Users/DELL/OneDrive/Documents/GitHub/Voyaige/proj/front/src/components/ChatbotPage/MiloChatbot.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Navbar from \"../NavBar/Navbar\"\r\nimport \"./MiloChatbot.css\";\r\n\r\nconst MiloChatbot = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [welcomeVisible, setWelcomeVisible] = useState(true);\r\n  const [history, setHistory] = useState([]);\r\n  const [historyIndex, setHistoryIndex] = useState(-1);\r\n\r\n  // Function to simulate response from chatbot.py logic\r\n  const getMiloResponse = (userMessage) => {\r\n    // Simulate chatbot.py functionality\r\n    if (userMessage.toLowerCase().includes(\"help\")) {\r\n      return \"Sure, I can help you! Tell me your preferences.\";\r\n    } else if (userMessage.toLowerCase().includes(\"book\")) {\r\n      return \"I can help with booking flights, hotels, or buses. What do you need?\";\r\n    } else {\r\n      return \"I'm not sure about that. Could you clarify your question?\";\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSendMessage = () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = input;\r\n    const newMessages = [\r\n      ...messages,\r\n      { sender: \"user\", text: userMessage },\r\n      { sender: \"milo\", text: getMiloResponse(userMessage) },\r\n    ];\r\n\r\n    setMessages(newMessages);\r\n    setHistory([userMessage, ...history]);\r\n    setInput(\"\");\r\n    setWelcomeVisible(false);\r\n    setHistoryIndex(-1);\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleSendMessage();\r\n    } else if (e.key === \"ArrowUp\") {\r\n      if (history.length > 0 && historyIndex < history.length - 1) {\r\n        const newIndex = historyIndex + 1;\r\n        setInput(history[newIndex]);\r\n        setHistoryIndex(newIndex);\r\n      }\r\n    } else if (e.key === \"ArrowDown\") {\r\n      if (historyIndex > 0) {\r\n        const newIndex = historyIndex - 1;\r\n        setInput(history[newIndex]);\r\n        setHistoryIndex(newIndex);\r\n      } else {\r\n        setInput(\"\");\r\n        setHistoryIndex(-1);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Auto-scroll to bottom when messages update\r\n    const chatContainer = document.getElementById(\"chat-container\");\r\n    if (chatContainer) {\r\n      chatContainer.scrollTop = chatContainer.scrollHeight;\r\n    }\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div className=\"chatbot-container\">\r\n        <Navbar />\r\n      {welcomeVisible && (\r\n        <div className=\"welcome-message\">\r\n          <p>Welcome to a chat with Milo, your own personal smart AI trip planner.</p>\r\n          <p>Click on the input bar to start the chat.</p>\r\n        </div>\r\n      )}\r\n\r\n      <div id=\"chat-container\" className=\"chat-container\">\r\n        {!welcomeVisible && (\r\n          <div className=\"chat-bubble milo\">\r\n            <span>Milo: Hi, how may I help you plan your trip?</span>\r\n          </div>\r\n        )}\r\n        {messages.map((msg, index) => (\r\n          <div key={index} className={`chat-bubble ${msg.sender}`}>\r\n            <span>{msg.sender === \"user\" ? `You: ${msg.text}` : `Milo: ${msg.text}`}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"input-container\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Type your message here...\"\r\n          value={input}\r\n          onChange={handleInputChange}\r\n          onKeyDown={handleKeyDown}\r\n          onFocus={() => setWelcomeVisible(false)}\r\n        />\r\n        <button onClick={handleSendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MiloChatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}